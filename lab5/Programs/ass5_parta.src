       section   code
**********************************************************************************************************
* CSTART.ASM  -  C startup-code
*
*          Initialises the system prior to running the users main() program
*
*          1) Sets up the user program stack pointer
*          2) Switches to User mode in the 68000
*          3) Enables All Interrupts 1-7 on 68000
*          4) Copies all initialised C program variables from Rom to Ram prior to running main()
*
**********************************************************************************************************
                align


**********************************************************************************************************
* The Following ORG Statement marks the address of the start of the this CStart Program
*
* The debug Monitor and Flash Load and Program routines assume your program lives here
**********************************************************************************************************
                org       $08000000
start:          move.w    #$2000,SR             clear interrupts to enable all, move to supervisor mode

******************************************************************************************
* Set unitialised global variables to 0 at startup
******************************************************************************************
mainloop        movea.l   #BssStart,a0          point a0 to the start of the initialised data section held in ROM
                move.l    #BssLength,d0         figure out how many bytes of C program variables data to copy
                beq       go_main               if no data to copy go straight to program
Zeroinit        move.b    #0,(a0)+              copy the C program initialise variables from rom to ram
                subq.l    #1,d0
                bne       Zeroinit

*******************************************************************************************
* last minute initialisation before calling main
*******************************************************************************************

                move.l    #-1,__ungetbuf         required for use of scanf() etc in C programs
                clr.l     __allocp               used by malloc() in C
                move.l    #heap,__heap           pointer to free memory
go_main         jsr       _main
                bra       start

; C:\IDE68K\ASS5_PARTA\M68KUSERPROGRAM (DE1).C - Compiled by CC68K  Version 5.00 (c) 1991-2005  Peter J. Fondse
; #include <stdio.h>
; #include <string.h>
; #include <ctype.h>
; //IMPORTANT
; //
; // Uncomment one of the two #defines below
; // Define StartOfExceptionVectorTable as 08030000 if running programs from sram or
; // 0B000000 for running programs from dram
; //
; // In your labs, you will initially start by designing a system with SRam and later move to
; // Dram, so these constants will need to be changed based on the version of the system you have
; // building
; //
; // The working 68k system SOF file posted on canvas that you can use for your pre-lab
; // is based around Dram so #define accordingly before building
; //#define StartOfExceptionVectorTable 0x08030000
; #define StartOfExceptionVectorTable 0x0B000000
; /**********************************************************************************************
; **	Parallel port addresses
; **********************************************************************************************/
; #define PortA   *(volatile unsigned char *)(0x00400000)
; #define PortB   *(volatile unsigned char *)(0x00400002)
; #define PortC   *(volatile unsigned char *)(0x00400004)
; #define PortD   *(volatile unsigned char *)(0x00400006)
; #define PortE   *(volatile unsigned char *)(0x00400008)
; /*********************************************************************************************
; **	Hex 7 seg displays port addresses
; *********************************************************************************************/
; #define HEX_A        *(volatile unsigned char *)(0x00400010)
; #define HEX_B        *(volatile unsigned char *)(0x00400012)
; #define HEX_C        *(volatile unsigned char *)(0x00400014)    // de2 only
; #define HEX_D        *(volatile unsigned char *)(0x00400016)    // de2 only
; /**********************************************************************************************
; **	LCD display port addresses
; **********************************************************************************************/
; #define LCDcommand   *(volatile unsigned char *)(0x00400020)
; #define LCDdata      *(volatile unsigned char *)(0x00400022)
; /********************************************************************************************
; **	Timer Port addresses
; *********************************************************************************************/
; #define Timer1Data      *(volatile unsigned char *)(0x00400030)
; #define Timer1Control   *(volatile unsigned char *)(0x00400032)
; #define Timer1Status    *(volatile unsigned char *)(0x00400032)
; #define Timer2Data      *(volatile unsigned char *)(0x00400034)
; #define Timer2Control   *(volatile unsigned char *)(0x00400036)
; #define Timer2Status    *(volatile unsigned char *)(0x00400036)
; #define Timer3Data      *(volatile unsigned char *)(0x00400038)
; #define Timer3Control   *(volatile unsigned char *)(0x0040003A)
; #define Timer3Status    *(volatile unsigned char *)(0x0040003A)
; #define Timer4Data      *(volatile unsigned char *)(0x0040003C)
; #define Timer4Control   *(volatile unsigned char *)(0x0040003E)
; #define Timer4Status    *(volatile unsigned char *)(0x0040003E)
; /*********************************************************************************************
; **	RS232 port addresses
; *********************************************************************************************/
; #define RS232_Control     *(volatile unsigned char *)(0x00400040)
; #define RS232_Status      *(volatile unsigned char *)(0x00400040)
; #define RS232_TxData      *(volatile unsigned char *)(0x00400042)
; #define RS232_RxData      *(volatile unsigned char *)(0x00400042)
; #define RS232_Baud        *(volatile unsigned char *)(0x00400044)
; /*********************************************************************************************
; **	PIA 1 and 2 port addresses
; *********************************************************************************************/
; #define PIA1_PortA_Data     *(volatile unsigned char *)(0x00400050)         // combined data and data direction register share same address
; #define PIA1_PortA_Control *(volatile unsigned char *)(0x00400052)
; #define PIA1_PortB_Data     *(volatile unsigned char *)(0x00400054)         // combined data and data direction register share same address
; #define PIA1_PortB_Control *(volatile unsigned char *)(0x00400056)
; #define PIA2_PortA_Data     *(volatile unsigned char *)(0x00400060)         // combined data and data direction register share same address
; #define PIA2_PortA_Control *(volatile unsigned char *)(0x00400062)
; #define PIA2_PortB_data     *(volatile unsigned char *)(0x00400064)         // combined data and data direction register share same address
; #define PIA2_PortB_Control *(volatile unsigned char *)(0x00400066)
; /*************************************************************
; ** IIC Controller registers
; **************************************************************/
; //IIC Registers
; #define IIC_Prescale_Low            (*(volatile unsigned char *)(0x00408000))
; #define IIC_Prescale_High           (*(volatile unsigned char *)(0x00408002))
; #define IIC_Control                 (*(volatile unsigned char *)(0x00408004))
; #define IIC_Transmit_Receive        (*(volatile unsigned char *)(0x00408006))
; #define IIC_Command_Status          (*(volatile unsigned char *)(0x00408008))
; // I2C Commands
; #define WRITE 0x10
; /*********************************************************************************************************************************
; (( DO NOT initialise global variables here, do it main even if you want 0
; (( it's a limitation of the compiler
; (( YOU HAVE BEEN WARNED
; *********************************************************************************************************************************/
; unsigned int i, x, y, z, PortA_Count;
; unsigned char Timer1Count, Timer2Count, Timer3Count, Timer4Count ;
; /*******************************************************************************************
; ** Function Prototypes
; *******************************************************************************************/
; void Wait1ms(void);
; void Wait3ms(void);
; void Wait500ms(void);
; void Wait1s(void);
; void SendI2C(char byte, char cmd);
; void DAC_Blinky(void);
; void WaitForAck(void);
; void Init_LCD(void) ;
; void LCDOutchar(int c);
; void LCDOutMess(char *theMessage);
; void LCDClearln(void);
; void LCDline1Message(char *theMessage);
; void LCDline2Message(char *theMessage);
; int sprintf(char *out, const char *format, ...) ;
; /*****************************************************************************************
; **	Interrupt service routine for Timers
; **
; **  Timers 1 - 4 share a common IRQ on the CPU  so this function uses polling to figure
; **  out which timer is producing the interrupt
; **
; *****************************************************************************************/
; void Timer_ISR()
; {
_Timer_ISR:
; if(Timer1Status == 1) {         // Did Timer 1 produce the Interrupt?
       move.b    4194354,D0
       cmp.b     #1,D0
       bne.s     Timer_ISR_1
; Timer1Control = 3;      	// reset the timer to clear the interrupt, enable interrupts and allow counter to run
       move.b    #3,4194354
Timer_ISR_1:
; //PortA = Timer1Count++ ;     // increment an LED count on PortA with each tick of Timer 1
; }
; if(Timer2Status == 1) {         // Did Timer 2 produce the Interrupt?
       move.b    4194358,D0
       cmp.b     #1,D0
       bne.s     Timer_ISR_3
; Timer2Control = 3;      	// reset the timer to clear the interrupt, enable interrupts and allow counter to run
       move.b    #3,4194358
Timer_ISR_3:
; //PortC = Timer2Count++ ;     // increment an LED count on PortC with each tick of Timer 2
; }
; if(Timer3Status == 1) {         // Did Timer 3 produce the Interrupt?
       move.b    4194362,D0
       cmp.b     #1,D0
       bne.s     Timer_ISR_5
; Timer3Control = 3;      	// reset the timer to clear the interrupt, enable interrupts and allow counter to run
       move.b    #3,4194362
Timer_ISR_5:
; //HEX_A = Timer3Count++ ;     // increment a HEX count on Port HEX_A with each tick of Timer 3
; }
; if(Timer4Status == 1) {         // Did Timer 4 produce the Interrupt?
       move.b    4194366,D0
       cmp.b     #1,D0
       bne.s     Timer_ISR_7
; Timer4Control = 3;      	// reset the timer to clear the interrupt, enable interrupts and allow counter to run
       move.b    #3,4194366
Timer_ISR_7:
       rts
; //HEX_B = Timer4Count++ ;     // increment a HEX count on HEX_B with each tick of Timer 4
; }
; }
; /*****************************************************************************************
; **	Interrupt service routine for ACIA. This device has it's own dedicate IRQ level
; **  Add your code here to poll Status register and clear interrupt
; *****************************************************************************************/
; void ACIA_ISR()
; {}
_ACIA_ISR:
       rts
; /***************************************************************************************
; **	Interrupt service routine for PIAs 1 and 2. These devices share an IRQ level
; **  Add your code here to poll Status register and clear interrupt
; *****************************************************************************************/
; void PIA_ISR()
; {}
_PIA_ISR:
       rts
; /***********************************************************************************
; **	Interrupt service routine for Key 2 on DE1 board. Add your own response here
; ************************************************************************************/
; void Key2PressISR()
; {}
_Key2PressISR:
       rts
; /***********************************************************************************
; **	Interrupt service routine for Key 1 on DE1 board. Add your own response here
; ************************************************************************************/
; void Key1PressISR()
; {}
_Key1PressISR:
       rts
; /************************************************************************************
; **   Delay Subroutine to give the 68000 something useless to do to waste 1 mSec
; ************************************************************************************/
; void Wait1ms(void)
; {
_Wait1ms:
       move.l    D2,-(A7)
; int  i ;
; for(i = 0; i < 1000; i ++)
       clr.l     D2
Wait1ms_1:
       cmp.l     #1000,D2
       bge.s     Wait1ms_3
       addq.l    #1,D2
       bra       Wait1ms_1
Wait1ms_3:
       move.l    (A7)+,D2
       rts
; ;
; }
; /************************************************************************************
; **  Subroutine to give the 68000 something useless to do to waste 3 mSec
; **************************************************************************************/
; void Wait3ms(void)
; {
_Wait3ms:
       move.l    D2,-(A7)
; int i ;
; for(i = 0; i < 3; i++)
       clr.l     D2
Wait3ms_1:
       cmp.l     #3,D2
       bge.s     Wait3ms_3
; Wait1ms() ;
       jsr       _Wait1ms
       addq.l    #1,D2
       bra       Wait3ms_1
Wait3ms_3:
       move.l    (A7)+,D2
       rts
; }
; /*********************************************************************************************
; **  Subroutine to initialise the LCD display by writing some commands to the LCD internal registers
; **  Sets it for parallel port and 2 line display mode (if I recall correctly)
; *********************************************************************************************/
; void Init_LCD(void)
; {
_Init_LCD:
; LCDcommand = 0x0c ;
       move.b    #12,4194336
; Wait3ms() ;
       jsr       _Wait3ms
; LCDcommand = 0x38 ;
       move.b    #56,4194336
; Wait3ms() ;
       jsr       _Wait3ms
       rts
; }
; /*********************************************************************************************
; **  Subroutine to initialise the RS232 Port by writing some commands to the internal registers
; *********************************************************************************************/
; void Init_RS232(void)
; {
_Init_RS232:
; RS232_Control = 0x15 ; //  %00010101 set up 6850 uses divide by 16 clock, set RTS low, 8 bits no parity, 1 stop bit, transmitter interrupt disabled
       move.b    #21,4194368
; RS232_Baud = 0x1 ;      // program baud rate generator 001 = 115k, 010 = 57.6k, 011 = 38.4k, 100 = 19.2, all others = 9600
       move.b    #1,4194372
       rts
; }
; /*********************************************************************************************************
; **  Subroutine to provide a low level output function to 6850 ACIA
; **  This routine provides the basic functionality to output a single character to the serial Port
; **  to allow the board to communicate with HyperTerminal Program
; **
; **  NOTE you do not call this function directly, instead you call the normal putchar() function
; **  which in turn calls _putch() below). Other functions like puts(), printf() call putchar() so will
; **  call _putch() also
; *********************************************************************************************************/
; int _putch( int c)
; {
__putch:
       link      A6,#0
; while((RS232_Status & (char)(0x02)) != (char)(0x02))    // wait for Tx bit in status register or 6850 serial comms chip to be '1'
_putch_1:
       move.b    4194368,D0
       and.b     #2,D0
       cmp.b     #2,D0
       beq.s     _putch_3
       bra       _putch_1
_putch_3:
; ;
; RS232_TxData = (c & (char)(0x7f));                      // write to the data register to output the character (mask off bit 8 to keep it 7 bit ASCII)
       move.l    8(A6),D0
       and.l     #127,D0
       move.b    D0,4194370
; return c ;                                              // putchar() expects the character to be returned
       move.l    8(A6),D0
       unlk      A6
       rts
; }
; /*********************************************************************************************************
; **  Subroutine to provide a low level input function to 6850 ACIA
; **  This routine provides the basic functionality to input a single character from the serial Port
; **  to allow the board to communicate with HyperTerminal Program Keyboard (your PC)
; **
; **  NOTE you do not call this function directly, instead you call the normal getchar() function
; **  which in turn calls _getch() below). Other functions like gets(), scanf() call getchar() so will
; **  call _getch() also
; *********************************************************************************************************/
; int _getch( void )
; {
__getch:
       link      A6,#-4
; char c ;
; while((RS232_Status & (char)(0x01)) != (char)(0x01))    // wait for Rx bit in 6850 serial comms chip status register to be '1'
_getch_1:
       move.b    4194368,D0
       and.b     #1,D0
       cmp.b     #1,D0
       beq.s     _getch_3
       bra       _getch_1
_getch_3:
; ;
; return (RS232_RxData & (char)(0x7f));                   // read received character, mask off top bit and return as 7 bit ASCII character
       move.b    4194370,D0
       and.l     #255,D0
       and.l     #127,D0
       unlk      A6
       rts
; }
; /******************************************************************************
; **  Subroutine to output a single character to the 2 row LCD display
; **  It is assumed the character is an ASCII code and it will be displayed at the
; **  current cursor position
; *******************************************************************************/
; void LCDOutchar(int c)
; {
_LCDOutchar:
       link      A6,#0
; LCDdata = (char)(c);
       move.l    8(A6),D0
       move.b    D0,4194338
; Wait1ms() ;
       jsr       _Wait1ms
       unlk      A6
       rts
; }
; /**********************************************************************************
; *subroutine to output a message at the current cursor position of the LCD display
; ************************************************************************************/
; void LCDOutMessage(char *theMessage)
; {
_LCDOutMessage:
       link      A6,#-4
; char c ;
; while((c = *theMessage++) != 0)     // output characters from the string until NULL
LCDOutMessage_1:
       move.l    8(A6),A0
       addq.l    #1,8(A6)
       move.b    (A0),-1(A6)
       move.b    (A0),D0
       beq.s     LCDOutMessage_3
; LCDOutchar(c) ;
       move.b    -1(A6),D1
       ext.w     D1
       ext.l     D1
       move.l    D1,-(A7)
       jsr       _LCDOutchar
       addq.w    #4,A7
       bra       LCDOutMessage_1
LCDOutMessage_3:
       unlk      A6
       rts
; }
; /******************************************************************************
; *subroutine to clear the line by issuing 24 space characters
; *******************************************************************************/
; void LCDClearln(void)
; {
_LCDClearln:
       move.l    D2,-(A7)
; int i ;
; for(i = 0; i < 24; i ++)
       clr.l     D2
LCDClearln_1:
       cmp.l     #24,D2
       bge.s     LCDClearln_3
; LCDOutchar(' ') ;       // write a space char to the LCD display
       pea       32
       jsr       _LCDOutchar
       addq.w    #4,A7
       addq.l    #1,D2
       bra       LCDClearln_1
LCDClearln_3:
       move.l    (A7)+,D2
       rts
; }
; /******************************************************************************
; **  Subroutine to move the LCD cursor to the start of line 1 and clear that line
; *******************************************************************************/
; void LCDLine1Message(char *theMessage)
; {
_LCDLine1Message:
       link      A6,#0
; LCDcommand = 0x80 ;
       move.b    #128,4194336
; Wait3ms();
       jsr       _Wait3ms
; LCDClearln() ;
       jsr       _LCDClearln
; LCDcommand = 0x80 ;
       move.b    #128,4194336
; Wait3ms() ;
       jsr       _Wait3ms
; LCDOutMessage(theMessage) ;
       move.l    8(A6),-(A7)
       jsr       _LCDOutMessage
       addq.w    #4,A7
       unlk      A6
       rts
; }
; /******************************************************************************
; **  Subroutine to move the LCD cursor to the start of line 2 and clear that line
; *******************************************************************************/
; void LCDLine2Message(char *theMessage)
; {
_LCDLine2Message:
       link      A6,#0
; LCDcommand = 0xC0 ;
       move.b    #192,4194336
; Wait3ms();
       jsr       _Wait3ms
; LCDClearln() ;
       jsr       _LCDClearln
; LCDcommand = 0xC0 ;
       move.b    #192,4194336
; Wait3ms() ;
       jsr       _Wait3ms
; LCDOutMessage(theMessage) ;
       move.l    8(A6),-(A7)
       jsr       _LCDOutMessage
       addq.w    #4,A7
       unlk      A6
       rts
; }
; /*********************************************************************************************************************************
; **  IMPORTANT FUNCTION
; **  This function install an exception handler so you can capture and deal with any 68000 exception in your program
; **  You pass it the name of a function in your code that will get called in response to the exception (as the 1st parameter)
; **  and in the 2nd parameter, you pass it the exception number that you want to take over (see 68000 exceptions for details)
; **  Calling this function allows you to deal with Interrupts for example
; ***********************************************************************************************************************************/
; void InstallExceptionHandler( void (*function_ptr)(), int level)
; {
_InstallExceptionHandler:
       link      A6,#-4
; volatile long int *RamVectorAddress = (volatile long int *)(StartOfExceptionVectorTable) ;   // pointer to the Ram based interrupt vector table created in Cstart in debug monitor
       move.l    #184549376,-4(A6)
; RamVectorAddress[level] = (long int *)(function_ptr);                       // install the address of our function into the exception table
       move.l    -4(A6),A0
       move.l    12(A6),D0
       lsl.l     #2,D0
       move.l    8(A6),0(A0,D0.L)
       unlk      A6
       rts
; }
; char xtod(int c)
; {
_xtod:
       link      A6,#0
       move.l    D2,-(A7)
       move.l    8(A6),D2
; if ((char)(c) <= (char)('9'))
       cmp.b     #57,D2
       bgt.s     xtod_1
; return c - (char)(0x30);    // 0 - 9 = 0x30 - 0x39 so convert to number by sutracting 0x30
       move.b    D2,D0
       sub.b     #48,D0
       bra.s     xtod_3
xtod_1:
; else if((char)(c) > (char)('F'))    // assume lower case
       cmp.b     #70,D2
       ble.s     xtod_4
; return c - (char)(0x57);    // a-f = 0x61-66 so needs to be converted to 0x0A - 0x0F so subtract 0x57
       move.b    D2,D0
       sub.b     #87,D0
       bra.s     xtod_3
xtod_4:
; else
; return c - (char)(0x37);    // A-F = 0x41-46 so needs to be converted to 0x0A - 0x0F so subtract 0x37
       move.b    D2,D0
       sub.b     #55,D0
xtod_3:
       move.l    (A7)+,D2
       unlk      A6
       rts
; }
; int Get2HexDigits(char *CheckSumPtr)
; {
_Get2HexDigits:
       link      A6,#0
       move.l    D2,-(A7)
; register int i = (xtod(_getch()) << 4) | (xtod(_getch()));
       move.l    D0,-(A7)
       jsr       __getch
       move.l    D0,D1
       move.l    (A7)+,D0
       move.l    D1,-(A7)
       jsr       _xtod
       addq.w    #4,A7
       and.l     #255,D0
       asl.l     #4,D0
       move.l    D0,-(A7)
       move.l    D1,-(A7)
       jsr       __getch
       move.l    (A7)+,D1
       move.l    D0,-(A7)
       jsr       _xtod
       addq.w    #4,A7
       move.l    D0,D1
       move.l    (A7)+,D0
       and.l     #255,D1
       or.l      D1,D0
       move.l    D0,D2
; if(CheckSumPtr)
       tst.l     8(A6)
       beq.s     Get2HexDigits_1
; *CheckSumPtr += i ;
       move.l    8(A6),A0
       add.b     D2,(A0)
Get2HexDigits_1:
; return i ;
       move.l    D2,D0
       move.l    (A7)+,D2
       unlk      A6
       rts
; }
; int Get4HexDigits(char *CheckSumPtr)
; {
_Get4HexDigits:
       link      A6,#0
; return (Get2HexDigits(CheckSumPtr) << 8) | (Get2HexDigits(CheckSumPtr));
       move.l    8(A6),-(A7)
       jsr       _Get2HexDigits
       addq.w    #4,A7
       asl.l     #8,D0
       move.l    D0,-(A7)
       move.l    8(A6),-(A7)
       jsr       _Get2HexDigits
       addq.w    #4,A7
       move.l    D0,D1
       move.l    (A7)+,D0
       or.l      D1,D0
       unlk      A6
       rts
; }
; int Get6HexDigits(char *CheckSumPtr)
; {
_Get6HexDigits:
       link      A6,#0
; return (Get4HexDigits(CheckSumPtr) << 8) | (Get2HexDigits(CheckSumPtr));
       move.l    8(A6),-(A7)
       jsr       _Get4HexDigits
       addq.w    #4,A7
       asl.l     #8,D0
       move.l    D0,-(A7)
       move.l    8(A6),-(A7)
       jsr       _Get2HexDigits
       addq.w    #4,A7
       move.l    D0,D1
       move.l    (A7)+,D0
       or.l      D1,D0
       unlk      A6
       rts
; }
; int Get8HexDigits(char *CheckSumPtr)
; {
_Get8HexDigits:
       link      A6,#0
; return (Get4HexDigits(CheckSumPtr) << 16) | (Get4HexDigits(CheckSumPtr));
       move.l    8(A6),-(A7)
       jsr       _Get4HexDigits
       addq.w    #4,A7
       asl.l     #8,D0
       asl.l     #8,D0
       move.l    D0,-(A7)
       move.l    8(A6),-(A7)
       jsr       _Get4HexDigits
       addq.w    #4,A7
       move.l    D0,D1
       move.l    (A7)+,D0
       or.l      D1,D0
       unlk      A6
       rts
; }
; /**************************************************************************************************
; *Memory Test Functions
; ***************************************************************************************************/
; /////////////////////////////////////////////////////////////////////////////////////////////////////////////
; //byte_func//
; /////////////////////////////////////////////////////////////////////////////////////////////////////////////
; void byte_func(void){
_byte_func:
       link      A6,#-36
       movem.l   D2/D3/D4/D5/D6/D7/A2/A3/A4/A5,-(A7)
       lea       _printf.L,A2
       lea       _scanf.L,A3
       lea       -26(A6),A5
; char  *Start, *End ;
; char *Start_temp, *End_temp;
; int *Start_hold, *End_hold;
; unsigned char filldata = 0xAA;
       move.b    #170,-22(A6)
; unsigned char tempdata;
; unsigned char readval;
; //unsigned char bytedata1, bytedata2, bytedata3, bytedata4;
; int bytedata1, bytedata2, bytedata3, bytedata4;
; int count = 0;
       clr.l     D2
; int count2 = 0;
       clr.l     D4
; int j;
; char choice;
; printf("\r\nEnter 4 bytes of Hexidecimal test data.");
       pea       @m68kus~1_1.L
       jsr       (A2)
       addq.w    #4,A7
; printf("\r\nEnter First byte: ");
       pea       @m68kus~1_2.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &bytedata1) ;
       pea       -20(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
; //bytedata1 = Get2HexDigits(0) ;
; //printf("\r\n%X",bytedata1);
; printf("Enter Second byte: ");
       pea       @m68kus~1_4.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &bytedata2) ;
       pea       -16(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
; //printf("\r\n%X",bytedata2);
; //bytedata2 = Get2HexDigits(0) ;
; printf("Enter Third byte: ");
       pea       @m68kus~1_5.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &bytedata3) ;
       pea       -12(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
; //bytedata3 = Get2HexDigits(0) ;
; printf("Enter Fourth byte: ");
       pea       @m68kus~1_6.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &bytedata4) ;
       pea       -8(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
; //bytedata4 = Get2HexDigits(0) ;
; printf("Valid addresses for this program are: $0900 0000  - $097F FFFF");
       pea       @m68kus~1_7.L
       jsr       (A2)
       addq.w    #4,A7
; printf("\r\nEnter Start Address: ") ;
       pea       @m68kus~1_8.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &Start_hold) ;
       pea       -30(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
; //Start_hold = Get8HexDigits(0) ;
; printf("Enter End Address: ") ;
       pea       @m68kus~1_9.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &End_hold) ;
       move.l    A5,-(A7)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
; //End_hold = Get8HexDigits(0) ;
; while ((Start_hold < 0x09000000) || (Start_hold > 0x097FFFFF)){
byte_func_1:
       move.l    -30(A6),D0
       cmp.l     #150994944,D0
       blo.s     byte_func_4
       move.l    -30(A6),D0
       cmp.l     #159383551,D0
       bls.s     byte_func_3
byte_func_4:
; printf("ERROR. Please Enter a valid Start Address: ");
       pea       @m68kus~1_10.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &Start_hold) ;
       pea       -30(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
       bra       byte_func_1
byte_func_3:
; //Start_hold = Get8HexDigits(0) ;
; }
; while ((End_hold < 0x09000000) || (End_hold > 0x097FFFFF)){
byte_func_5:
       move.l    (A5),D0
       cmp.l     #150994944,D0
       blo.s     byte_func_8
       move.l    (A5),D0
       cmp.l     #159383551,D0
       bls.s     byte_func_7
byte_func_8:
; printf("\r\nERROR. Please Enter a valid End Address: ");
       pea       @m68kus~1_11.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &End_hold) ;
       move.l    A5,-(A7)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
       bra       byte_func_5
byte_func_7:
; //End_hold = Get8HexDigits(0) ;
; }
; while (End_hold <= Start_hold){
byte_func_9:
       move.l    (A5),D0
       cmp.l     -30(A6),D0
       bhi.s     byte_func_11
; printf("\r\nERROR. Please enter an End Address larger than the Start Address");
       pea       @m68kus~1_12.L
       jsr       (A2)
       addq.w    #4,A7
; //printf("\r\nEnter Start Address: ") ;
; //Start_hold = Get8HexDigits(0) ;
; printf("\r\nEnter End Address: ") ;
       pea       @m68kus~1_13.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &End_hold) ;
       move.l    A5,-(A7)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
       bra       byte_func_9
byte_func_11:
; //End_hold = Get8HexDigits(0) ;
; }
; Start = Start_hold;
       move.l    -30(A6),D3
; End = End_hold;
       move.l    (A5),A4
; Start_temp = Start_hold;
       move.l    -30(A6),D5
; End_temp = End_hold;
       move.l    (A5),-34(A6)
; printf("\r\nFilling Addresses [$%08X - $%08X] with test data", Start, End);
       move.l    A4,-(A7)
       move.l    D3,-(A7)
       pea       @m68kus~1_14.L
       jsr       (A2)
       add.w     #12,A7
; while (Start <= End){
byte_func_12:
       cmp.l     A4,D3
       bhi       byte_func_14
; if ((count == 0) || ((count % 4))==0 ){
       tst.l     D2
       beq.s     byte_func_17
       move.l    D2,-(A7)
       pea       4
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne       byte_func_15
byte_func_17:
; *Start = bytedata1;
       move.l    -20(A6),D0
       move.l    D3,A0
       move.b    D0,(A0)
; if ((count == 0) || ((count % 1000)==0)){
       tst.l     D2
       beq.s     byte_func_20
       move.l    D2,-(A7)
       pea       1000
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne.s     byte_func_18
byte_func_20:
; printf("\r\nAddress $%08X being filled with $%02X", Start, bytedata1);
       move.l    -20(A6),-(A7)
       move.l    D3,-(A7)
       pea       @m68kus~1_15.L
       jsr       (A2)
       add.w     #12,A7
byte_func_18:
; }
; Start++;
       addq.l    #1,D3
       bra       byte_func_34
byte_func_15:
; }
; else if ((count == 1) || (((count - 1)%4)==0)){
       cmp.l     #1,D2
       beq.s     byte_func_23
       move.l    D2,D0
       subq.l    #1,D0
       move.l    D0,-(A7)
       pea       4
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne       byte_func_21
byte_func_23:
; *Start = bytedata2;
       move.l    -16(A6),D0
       move.l    D3,A0
       move.b    D0,(A0)
; if ((count == 1) || (((count - 1) % 1000)==0)){
       cmp.l     #1,D2
       beq.s     byte_func_26
       move.l    D2,D0
       subq.l    #1,D0
       move.l    D0,-(A7)
       pea       1000
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne.s     byte_func_24
byte_func_26:
; printf("\r\nAddress $%08X being filled with $%02X", Start, bytedata2);
       move.l    -16(A6),-(A7)
       move.l    D3,-(A7)
       pea       @m68kus~1_15.L
       jsr       (A2)
       add.w     #12,A7
byte_func_24:
; }
; Start++;
       addq.l    #1,D3
       bra       byte_func_34
byte_func_21:
; }
; else if ((count == 2) || (((count - 2)%4)==0)){
       cmp.l     #2,D2
       beq.s     byte_func_29
       move.l    D2,D0
       subq.l    #2,D0
       move.l    D0,-(A7)
       pea       4
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne       byte_func_27
byte_func_29:
; *Start = bytedata3;
       move.l    -12(A6),D0
       move.l    D3,A0
       move.b    D0,(A0)
; if ((count == 2) || (((count - 2) % 1000)==0)){
       cmp.l     #2,D2
       beq.s     byte_func_32
       move.l    D2,D0
       subq.l    #2,D0
       move.l    D0,-(A7)
       pea       1000
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne.s     byte_func_30
byte_func_32:
; printf("\r\nAddress $%08X being filled with $%02X", Start, bytedata3);
       move.l    -12(A6),-(A7)
       move.l    D3,-(A7)
       pea       @m68kus~1_15.L
       jsr       (A2)
       add.w     #12,A7
byte_func_30:
; }
; Start++;
       addq.l    #1,D3
       bra       byte_func_34
byte_func_27:
; }
; else if ((count == 3) || (((count - 3)%4)==0)){
       cmp.l     #3,D2
       beq.s     byte_func_35
       move.l    D2,D0
       subq.l    #3,D0
       move.l    D0,-(A7)
       pea       4
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne       byte_func_33
byte_func_35:
; *Start = bytedata4;
       move.l    -8(A6),D0
       move.l    D3,A0
       move.b    D0,(A0)
; if ((count == 3) || (((count - 3) % 1000)==0)){
       cmp.l     #3,D2
       beq.s     byte_func_38
       move.l    D2,D0
       subq.l    #3,D0
       move.l    D0,-(A7)
       pea       1000
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne.s     byte_func_36
byte_func_38:
; printf("\r\nAddress $%08X being filled with $%02X", Start, bytedata4);
       move.l    -8(A6),-(A7)
       move.l    D3,-(A7)
       pea       @m68kus~1_15.L
       jsr       (A2)
       add.w     #12,A7
byte_func_36:
; }
; Start++;
       addq.l    #1,D3
       bra.s     byte_func_34
byte_func_33:
; }
; else {
; *Start++ = filldata;
       move.l    D3,A0
       addq.l    #1,D3
       move.b    -22(A6),(A0)
byte_func_34:
; }
; //      if ((count == 0) || ((count % 1000)==0)){
; //       printf("\r\nAdress $%08X being filled with $%02X", Start, readval);
; //}
; count++;
       addq.l    #1,D2
       bra       byte_func_12
byte_func_14:
; }
; printf("\r\nWriting to memory Complete.\r\nEnter '1' to read back the memory. Enter '0' to exit program.");
       pea       @m68kus~1_16.L
       jsr       (A2)
       addq.w    #4,A7
; choice = _getch();
       jsr       __getch
       move.b    D0,D7
; if (choice == '1'){
       cmp.b     #49,D7
       bne       byte_func_39
; // printf("\r\nwill continue");
; while (Start_temp <= End_temp){
byte_func_41:
       cmp.l     -34(A6),D5
       bhi       byte_func_43
; tempdata = *Start_temp;
       move.l    D5,A0
       move.b    (A0),D6
; if ((count2 == 0) || (count2 % 1000)==0){
       tst.l     D4
       beq.s     byte_func_46
       move.l    D4,-(A7)
       pea       1000
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne.s     byte_func_44
byte_func_46:
; printf("\r\n$%02X Read from address $%08X", tempdata, Start_temp);
       move.l    D5,-(A7)
       and.l     #255,D6
       move.l    D6,-(A7)
       pea       @m68kus~1_17.L
       jsr       (A2)
       add.w     #12,A7
       bra       byte_func_53
byte_func_44:
; }
; else if ((count2 == 1) || ((count2 - 1) % 1000)==0){
       cmp.l     #1,D4
       beq.s     byte_func_49
       move.l    D4,D0
       subq.l    #1,D0
       move.l    D0,-(A7)
       pea       1000
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne.s     byte_func_47
byte_func_49:
; printf("\r\n$%02X Read from address $%08X", tempdata, Start_temp);
       move.l    D5,-(A7)
       and.l     #255,D6
       move.l    D6,-(A7)
       pea       @m68kus~1_17.L
       jsr       (A2)
       add.w     #12,A7
       bra       byte_func_53
byte_func_47:
; }
; else if ((count2 == 2) || ((count2 - 2) % 1000)==0){
       cmp.l     #2,D4
       beq.s     byte_func_52
       move.l    D4,D0
       subq.l    #2,D0
       move.l    D0,-(A7)
       pea       1000
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne.s     byte_func_50
byte_func_52:
; printf("\r\n$%02X Read from address $%08X", tempdata, Start_temp);
       move.l    D5,-(A7)
       and.l     #255,D6
       move.l    D6,-(A7)
       pea       @m68kus~1_17.L
       jsr       (A2)
       add.w     #12,A7
       bra       byte_func_53
byte_func_50:
; }
; else if ((count2 == 3) || ((count2 - 3) % 1000)==0){
       cmp.l     #3,D4
       beq.s     byte_func_55
       move.l    D4,D0
       subq.l    #3,D0
       move.l    D0,-(A7)
       pea       1000
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne.s     byte_func_53
byte_func_55:
; printf("\r\n$%02X Read from address $%08X", tempdata, Start_temp);
       move.l    D5,-(A7)
       and.l     #255,D6
       move.l    D6,-(A7)
       pea       @m68kus~1_17.L
       jsr       (A2)
       add.w     #12,A7
byte_func_53:
; }
; count2++;
       addq.l    #1,D4
; *Start_temp++;
       move.l    D5,A0
       addq.l    #1,D5
       bra       byte_func_41
byte_func_43:
       bra.s     byte_func_56
byte_func_39:
; }
; }
; else if (choice == '0'){
       cmp.b     #48,D7
       bne.s     byte_func_56
; printf("\r\nProgram Ended");
       pea       @m68kus~1_18.L
       jsr       (A2)
       addq.w    #4,A7
byte_func_56:
       movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2/A3/A4/A5
       unlk      A6
       rts
; }
; }
; /////////////////////////////////////////////////////////////////////////////////////////////////////////////
; //word_func//
; /////////////////////////////////////////////////////////////////////////////////////////////////////////////
; void word_func(void){
_word_func:
       link      A6,#-40
       movem.l   D2/D3/D4/D5/D6/D7/A2/A3/A4,-(A7)
       lea       _printf.L,A2
       lea       _scanf.L,A3
       lea       -14(A6),A4
; int worddata1, worddata2, worddata3, worddata4;
; int tempdata;
; int *Start_hold, *End_hold;
; short *Start, *End;
; short *Start_temp, *End_temp;
; unsigned char data, data2;
; int count1 = 0;
       clr.l     D3
; int count2 = 0;
       clr.l     D5
; char choice;
; printf("\r\nEnter 4 words (2 bytes) of Hexidecimal test data.");
       pea       @m68kus~1_19.L
       jsr       (A2)
       addq.w    #4,A7
; printf("\r\nEnter First word: ");
       pea       @m68kus~1_20.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &worddata1) ;
       pea       -38(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
; //worddata1 = Get4HexDigits(0) ;
; printf("Enter Second word: ");
       pea       @m68kus~1_21.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &worddata2) ;
       pea       -34(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
; //worddata2 = Get4HexDigits(0) ;
; printf("Enter Third word: ");
       pea       @m68kus~1_22.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &worddata3) ;
       pea       -30(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
; //worddata3 = Get4HexDigits(0) ;
; printf("Enter Fourth word: ");
       pea       @m68kus~1_23.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &worddata4) ;
       pea       -26(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
; //worddata4 = Get4HexDigits(0) ;
; printf("Valid addresses for this program are: $0900 0000 - $097F FFFF");
       pea       @m68kus~1_24.L
       jsr       (A2)
       addq.w    #4,A7
; printf("\r\nFor this test, the start and end addresses must align to an even address");
       pea       @m68kus~1_25.L
       jsr       (A2)
       addq.w    #4,A7
; printf("\r\nEnter Start Address: ") ;
       pea       @m68kus~1_8.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &Start_hold) ;
       pea       -18(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
; //Start_hold = Get8HexDigits(0) ;
; printf("Enter End Address: ") ;
       pea       @m68kus~1_9.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &End_hold) ;
       move.l    A4,-(A7)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
; //End_hold = Get8HexDigits(0) ;
; while ((Start_hold < 0x09000000) || (Start_hold > 0x097FFFFF) || ((Start_hold % 2) != 0)){
word_func_1:
       move.l    -18(A6),D0
       cmp.l     #150994944,D0
       blo.s     word_func_4
       move.l    -18(A6),D0
       cmp.l     #159383551,D0
       bhi.s     word_func_4
       move.l    -18(A6),-(A7)
       pea       2
       jsr       ULDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       beq.s     word_func_3
word_func_4:
; printf("ERROR. Please Enter a valid Start Address: ");
       pea       @m68kus~1_10.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &Start_hold) ;
       pea       -18(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
       bra       word_func_1
word_func_3:
; //Start_hold = Get8HexDigits(0) ;
; }
; while ((End_hold < 0x09000000) || (End_hold > 0x097FFFFF) || ((End_hold % 2) != 0)){
word_func_5:
       move.l    (A4),D0
       cmp.l     #150994944,D0
       blo.s     word_func_8
       move.l    (A4),D0
       cmp.l     #159383551,D0
       bhi.s     word_func_8
       move.l    (A4),-(A7)
       pea       2
       jsr       ULDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       beq.s     word_func_7
word_func_8:
; printf("ERROR. Please Enter a valid End Address: ");
       pea       @m68kus~1_26.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &End_hold) ;
       move.l    A4,-(A7)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
       bra       word_func_5
word_func_7:
; //End_hold = Get8HexDigits(0) ;
; }
; while (End_hold <= Start_hold){
word_func_9:
       move.l    (A4),D0
       cmp.l     -18(A6),D0
       bhi.s     word_func_11
; printf("ERROR. Please enter an End Address larger than the Start Address");
       pea       @m68kus~1_27.L
       jsr       (A2)
       addq.w    #4,A7
; //printf("\r\nEnter Start Address: ") ;
; //Start_hold = Get8HexDigits(0) ;
; printf("\r\nEnter End Address: ") ;
       pea       @m68kus~1_13.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &End_hold) ;
       move.l    A4,-(A7)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
       bra       word_func_9
word_func_11:
; //End_hold = Get8HexDigits(0) ;
; }
; Start = Start_hold;
       move.l    -18(A6),D2
; End = End_hold;
       move.l    (A4),-10(A6)
; Start_temp = Start_hold;
       move.l    -18(A6),D4
; End_temp = End_hold;
       move.l    (A4),-6(A6)
; while (Start < End){
word_func_12:
       cmp.l     -10(A6),D2
       bhs       word_func_14
; if ((count1 == 0) || ((count1 % 4)) ==0 ){
       tst.l     D3
       beq.s     word_func_17
       move.l    D3,-(A7)
       pea       4
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne       word_func_15
word_func_17:
; *Start = worddata1;
       move.l    -38(A6),D0
       move.l    D2,A0
       move.w    D0,(A0)
; if ((count1 == 0) || ((count1 % 1000)==0)){
       tst.l     D3
       beq.s     word_func_20
       move.l    D3,-(A7)
       pea       1000
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne.s     word_func_18
word_func_20:
; printf("\r\nAddresses $%08X - $%08X being filled with $%04X", Start, (Start | 0x0001), worddata1);
       move.l    -38(A6),-(A7)
       move.l    D2,D1
       or.l      #1,D1
       move.l    D1,-(A7)
       move.l    D2,-(A7)
       pea       @m68kus~1_28.L
       jsr       (A2)
       add.w     #16,A7
word_func_18:
; }
; Start++;
       addq.l    #2,D2
word_func_15:
; }
; if ((count1 == 1) || (((count1 - 1) % 4)) ==0 ){
       cmp.l     #1,D3
       beq.s     word_func_23
       move.l    D3,D0
       subq.l    #1,D0
       move.l    D0,-(A7)
       pea       4
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne       word_func_21
word_func_23:
; *Start = worddata2;
       move.l    -34(A6),D0
       move.l    D2,A0
       move.w    D0,(A0)
; if ((count1 == 1) || (((count1 -1) % 1000)==0)){
       cmp.l     #1,D3
       beq.s     word_func_26
       move.l    D3,D0
       subq.l    #1,D0
       move.l    D0,-(A7)
       pea       1000
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne.s     word_func_24
word_func_26:
; printf("\r\nAddresses $%08X - $%08X being filled with $%04X", Start, (Start | 0x0001), worddata2);
       move.l    -34(A6),-(A7)
       move.l    D2,D1
       or.l      #1,D1
       move.l    D1,-(A7)
       move.l    D2,-(A7)
       pea       @m68kus~1_28.L
       jsr       (A2)
       add.w     #16,A7
word_func_24:
; }
; Start++;
       addq.l    #2,D2
word_func_21:
; }
; if ((count1 == 2) || (((count1 - 2) % 4)) ==0 ){
       cmp.l     #2,D3
       beq.s     word_func_29
       move.l    D3,D0
       subq.l    #2,D0
       move.l    D0,-(A7)
       pea       4
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne       word_func_27
word_func_29:
; *Start = worddata3;
       move.l    -30(A6),D0
       move.l    D2,A0
       move.w    D0,(A0)
; if ((count1 == 2) || (((count1 -2) % 1000)==0)){
       cmp.l     #2,D3
       beq.s     word_func_32
       move.l    D3,D0
       subq.l    #2,D0
       move.l    D0,-(A7)
       pea       1000
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne.s     word_func_30
word_func_32:
; printf("\r\nAddresses $%08X - $%08X being filled with $%04X", Start, (Start | 0x0001), worddata3);
       move.l    -30(A6),-(A7)
       move.l    D2,D1
       or.l      #1,D1
       move.l    D1,-(A7)
       move.l    D2,-(A7)
       pea       @m68kus~1_28.L
       jsr       (A2)
       add.w     #16,A7
word_func_30:
; }
; Start++;
       addq.l    #2,D2
word_func_27:
; }
; if ((count1 == 3) || (((count1 - 3) % 4)) ==0 ){
       cmp.l     #3,D3
       beq.s     word_func_35
       move.l    D3,D0
       subq.l    #3,D0
       move.l    D0,-(A7)
       pea       4
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne       word_func_33
word_func_35:
; *Start = worddata4;
       move.l    -26(A6),D0
       move.l    D2,A0
       move.w    D0,(A0)
; if ((count1 == 3) || (((count1 - 3) % 1000)==0)){
       cmp.l     #3,D3
       beq.s     word_func_38
       move.l    D3,D0
       subq.l    #3,D0
       move.l    D0,-(A7)
       pea       1000
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne.s     word_func_36
word_func_38:
; printf("\r\nAddresses $%08X - $%08X being filled with $%04X", Start, (Start | 0x0001), worddata4);
       move.l    -26(A6),-(A7)
       move.l    D2,D1
       or.l      #1,D1
       move.l    D1,-(A7)
       move.l    D2,-(A7)
       pea       @m68kus~1_28.L
       jsr       (A2)
       add.w     #16,A7
word_func_36:
; }
; Start++;
       addq.l    #2,D2
word_func_33:
; }
; count1++;
       addq.l    #1,D3
       bra       word_func_12
word_func_14:
; }
; printf("\r\nWriting to memory Complete.\r\nEnter '1' to read back the memory. Enter '0' to exit program.");
       pea       @m68kus~1_16.L
       jsr       (A2)
       addq.w    #4,A7
; choice = _getch();
       jsr       __getch
       move.b    D0,-1(A6)
; if (choice == '1'){
       move.b    -1(A6),D0
       cmp.b     #49,D0
       bne       word_func_39
; //printf("\r\nwill continue");
; while (Start_temp < End_temp){
word_func_41:
       cmp.l     -6(A6),D4
       bhs       word_func_43
; data = (*Start_temp >> 8) & 0xFF;
       move.l    D4,A0
       move.w    (A0),D0
       asr.w     #8,D0
       and.w     #255,D0
       move.b    D0,D7
; data2 = *Start_temp & 0xFF;
       move.l    D4,A0
       move.w    (A0),D0
       and.w     #255,D0
       move.b    D0,D6
; if ((count2 == 0) || (count2 % 1000)==0){
       tst.l     D5
       beq.s     word_func_46
       move.l    D5,-(A7)
       pea       1000
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne.s     word_func_44
word_func_46:
; printf("\r\nValues $%02X $%02X found at addresses $%08X - $%08X", data, data2, Start_temp, (Start_temp | 0x0001));
       move.l    D4,D1
       or.l      #1,D1
       move.l    D1,-(A7)
       move.l    D4,-(A7)
       and.l     #255,D6
       move.l    D6,-(A7)
       and.l     #255,D7
       move.l    D7,-(A7)
       pea       @m68kus~1_29.L
       jsr       (A2)
       add.w     #20,A7
       bra       word_func_53
word_func_44:
; //printf("\r\n$%02X Read from address $%08X", tempdata, Start_hold);
; }
; else if ((count2 == 1) || ((count2 - 1) % 1000)==0){
       cmp.l     #1,D5
       beq.s     word_func_49
       move.l    D5,D0
       subq.l    #1,D0
       move.l    D0,-(A7)
       pea       1000
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne.s     word_func_47
word_func_49:
; printf("\r\nValues $%02X $%02X found at addresses $%08X - $%08X", data, data2, Start_temp, (Start_temp | 0x0001));
       move.l    D4,D1
       or.l      #1,D1
       move.l    D1,-(A7)
       move.l    D4,-(A7)
       and.l     #255,D6
       move.l    D6,-(A7)
       and.l     #255,D7
       move.l    D7,-(A7)
       pea       @m68kus~1_29.L
       jsr       (A2)
       add.w     #20,A7
       bra       word_func_53
word_func_47:
; //printf("\r\n$%02X Read from address $%08X", tempdata, Start_hold);
; }
; else if ((count2 == 2) || ((count2 - 2) % 1000)==0){
       cmp.l     #2,D5
       beq.s     word_func_52
       move.l    D5,D0
       subq.l    #2,D0
       move.l    D0,-(A7)
       pea       1000
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne.s     word_func_50
word_func_52:
; printf("\r\nValues $%02X $%02X found at addresses $%08X - $%08X", data, data2, Start_temp, (Start_temp | 0x0001));
       move.l    D4,D1
       or.l      #1,D1
       move.l    D1,-(A7)
       move.l    D4,-(A7)
       and.l     #255,D6
       move.l    D6,-(A7)
       and.l     #255,D7
       move.l    D7,-(A7)
       pea       @m68kus~1_29.L
       jsr       (A2)
       add.w     #20,A7
       bra       word_func_53
word_func_50:
; //printf("\r\n$%02X Read from address $%08X", tempdata, Start_hold);
; }
; else if ((count2 == 3) || ((count2 - 3) % 1000)==0){
       cmp.l     #3,D5
       beq.s     word_func_55
       move.l    D5,D0
       subq.l    #3,D0
       move.l    D0,-(A7)
       pea       1000
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne.s     word_func_53
word_func_55:
; printf("\r\nValues $%02X $%02X found at addresses $%08X - $%08X", data, data2, Start_temp, (Start_temp | 0x0001));
       move.l    D4,D1
       or.l      #1,D1
       move.l    D1,-(A7)
       move.l    D4,-(A7)
       and.l     #255,D6
       move.l    D6,-(A7)
       and.l     #255,D7
       move.l    D7,-(A7)
       pea       @m68kus~1_29.L
       jsr       (A2)
       add.w     #20,A7
word_func_53:
; //printf("\r\n$%02X Read from address $%08X", tempdata, Start_hold);
; }
; count2++;
       addq.l    #1,D5
; *Start_temp++;
       move.l    D4,A0
       addq.l    #2,D4
       bra       word_func_41
word_func_43:
       bra.s     word_func_56
word_func_39:
; }
; }
; else if (choice == '0'){
       move.b    -1(A6),D0
       cmp.b     #48,D0
       bne.s     word_func_56
; printf("\r\nProgram Ended");
       pea       @m68kus~1_18.L
       jsr       (A2)
       addq.w    #4,A7
word_func_56:
       movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2/A3/A4
       unlk      A6
       rts
; }
; /*
; *Start = 0xAAAA;
; printf("\r\n%04X", *Start);
; //  data = *Start;
; //data2 =*(Start + 0x00000001);
; data = (*Start >> 8) & 0xFF;
; data2 = *Start & 0xFF;
; printf("\r\nValue $%02X $%02X found at address $%08X - $%08X", data, data2, Start, (Start + (0x000F && Start)));
; printf("\r\nValue $%02X $%02X found at address $%08X - $%08X", data, data2, Start, (Start + 1));
; printf("\r\nValue $%02X $%02X found at address $%08X - $%08X", data, data2, Start, (Start | 0x0001));
; */
; }
; /////////////////////////////////////////////////////////////////////////////////////////////////////////////
; //LongWord_func//
; /////////////////////////////////////////////////////////////////////////////////////////////////////////////
; void longword_func(void){
_longword_func:
       link      A6,#-52
       movem.l   D2/D3/D4/D5/D6/D7/A2/A3/A4,-(A7)
       lea       _printf.L,A2
       lea       _scanf.L,A3
       lea       -26(A6),A4
; unsigned char data1a, data1b, data2a, data2b, data3a, data3b, data4a, data4b;
; int lworddata1, lworddata2, lworddata3, lworddata4;
; int *Start_hold, *End_hold;
; int *Start, *End;
; int *idk;
; short test, test1;
; int count3, count4;
; int count1 = 0;
       clr.l     D4
; int count2 = 0;
       clr.l     D5
; unsigned char add1, add2;
; short add3;
; char choice;
; printf("\r\nEnter 4 long words (4 bytes) of Hexidecimal test data.");
       pea       @m68kus~1_30.L
       jsr       (A2)
       addq.w    #4,A7
; printf("\r\nEnter First long word: ");
       pea       @m68kus~1_31.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &lworddata1) ;
       pea       -46(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
; //lworddata1 = Get8HexDigits(0) ;
; //data1a = lworddata1 & 0xFFFF;
; //data1b = (lworddata1 >> 16) & 0xFFFF;
; printf("Enter Second long word: ");
       pea       @m68kus~1_32.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &lworddata2) ;
       pea       -42(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
; //lworddata2 = Get8HexDigits(0) ;
; printf("Enter Third long word: ");
       pea       @m68kus~1_33.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &lworddata3) ;
       pea       -38(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
; //lworddata3 = Get8HexDigits(0) ;
; printf("Enter Fourth long word: ");
       pea       @m68kus~1_34.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &lworddata4) ;
       pea       -34(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
; //lworddata4 = Get8HexDigits(0) ;
; // printf("\r\n%04x   %04x", data1a, data1b);
; printf("Valid addresses for this program are: $0900 0000 - $097F FFFF");
       pea       @m68kus~1_24.L
       jsr       (A2)
       addq.w    #4,A7
; printf("\r\nFor this test, the start and end addresses must align to an even address");
       pea       @m68kus~1_25.L
       jsr       (A2)
       addq.w    #4,A7
; printf("\r\nEnter Start Address: ") ;
       pea       @m68kus~1_8.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &Start_hold) ;
       pea       -30(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
; //Start_hold = Get8HexDigits(0) ;
; printf("Enter End Address: ") ;
       pea       @m68kus~1_9.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &End_hold) ;
       move.l    A4,-(A7)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
; //End_hold = Get8HexDigits(0) ;
; while ((Start_hold < 0x09000000) || (Start_hold > 0x097FFFFF) || ((Start_hold % 2) != 0)){
longword_func_1:
       move.l    -30(A6),D0
       cmp.l     #150994944,D0
       blo.s     longword_func_4
       move.l    -30(A6),D0
       cmp.l     #159383551,D0
       bhi.s     longword_func_4
       move.l    -30(A6),-(A7)
       pea       2
       jsr       ULDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       beq.s     longword_func_3
longword_func_4:
; printf("ERROR. Please Enter a valid Start Address: ");
       pea       @m68kus~1_10.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &Start_hold) ;
       pea       -30(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
       bra       longword_func_1
longword_func_3:
; //Start_hold = Get8HexDigits(0) ;
; }
; while ((End_hold < 0x09000000) || (End_hold > 0x097FFFFF) || ((End_hold % 2) != 0)){
longword_func_5:
       move.l    (A4),D0
       cmp.l     #150994944,D0
       blo.s     longword_func_8
       move.l    (A4),D0
       cmp.l     #159383551,D0
       bhi.s     longword_func_8
       move.l    (A4),-(A7)
       pea       2
       jsr       ULDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       beq.s     longword_func_7
longword_func_8:
; printf("ERROR. Please Enter a valid End Address: ");
       pea       @m68kus~1_26.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &End_hold) ;
       move.l    A4,-(A7)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
       bra       longword_func_5
longword_func_7:
; //End_hold = Get8HexDigits(0) ;
; }
; while (End_hold <= Start_hold){
longword_func_9:
       move.l    (A4),D0
       cmp.l     -30(A6),D0
       bhi.s     longword_func_11
; printf("ERROR. Please enter an End Address larger than the Start Address");
       pea       @m68kus~1_27.L
       jsr       (A2)
       addq.w    #4,A7
; //printf("\r\nEnter Start Address: ") ;
; //Start_hold = Get8HexDigits(0) ;
; printf("\r\nEnter End Address: ") ;
       pea       @m68kus~1_13.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &End_hold) ;
       move.l    A4,-(A7)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
       bra       longword_func_9
longword_func_11:
; //End_hold = Get8HexDigits(0) ;
; }
; Start = Start_hold;
       move.l    -30(A6),D3
; End = End_hold;
       move.l    (A4),-22(A6)
; while (Start < End){
longword_func_12:
       cmp.l     -22(A6),D3
       bhs       longword_func_14
; if ((count1 == 0) || ((count1 % 4)) ==0 ){
       tst.l     D4
       beq.s     longword_func_17
       move.l    D4,-(A7)
       pea       4
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne       longword_func_15
longword_func_17:
; *Start = lworddata1;
       move.l    D3,A0
       move.l    -46(A6),(A0)
; idk = Start;
       move.l    D3,D2
; idk = (int *)((char *)idk + 3);
       move.l    D2,D0
       addq.l    #3,D0
       move.l    D0,D2
; if ((count1 == 0) || ((count1 % 1000)==0)){
       tst.l     D4
       beq.s     longword_func_20
       move.l    D4,-(A7)
       pea       1000
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne.s     longword_func_18
longword_func_20:
; printf("\r\nAddresses $%08X - $%08X being filled with $%08X", Start, idk, lworddata1);
       move.l    -46(A6),-(A7)
       move.l    D2,-(A7)
       move.l    D3,-(A7)
       pea       @m68kus~1_35.L
       jsr       (A2)
       add.w     #16,A7
longword_func_18:
; }
; Start++;
       addq.l    #4,D3
longword_func_15:
; }
; if ((count1 == 1) || (((count1 - 1) % 4)) ==0 ){
       cmp.l     #1,D4
       beq.s     longword_func_23
       move.l    D4,D0
       subq.l    #1,D0
       move.l    D0,-(A7)
       pea       4
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne       longword_func_21
longword_func_23:
; *Start = lworddata2;
       move.l    D3,A0
       move.l    -42(A6),(A0)
; idk = Start;
       move.l    D3,D2
; idk = (int *)((char *)idk + 3);
       move.l    D2,D0
       addq.l    #3,D0
       move.l    D0,D2
; if ((count1 == 1) || (((count1 -1) % 1000)==0)){
       cmp.l     #1,D4
       beq.s     longword_func_26
       move.l    D4,D0
       subq.l    #1,D0
       move.l    D0,-(A7)
       pea       1000
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne.s     longword_func_24
longword_func_26:
; printf("\r\nAddresses $%08X - $%08X being filled with $%08X", Start, idk, lworddata2);
       move.l    -42(A6),-(A7)
       move.l    D2,-(A7)
       move.l    D3,-(A7)
       pea       @m68kus~1_35.L
       jsr       (A2)
       add.w     #16,A7
longword_func_24:
; }
; Start++;
       addq.l    #4,D3
longword_func_21:
; }
; if ((count1 == 2) || (((count1 - 2) % 4)) ==0 ){
       cmp.l     #2,D4
       beq.s     longword_func_29
       move.l    D4,D0
       subq.l    #2,D0
       move.l    D0,-(A7)
       pea       4
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne       longword_func_27
longword_func_29:
; *Start = lworddata3;
       move.l    D3,A0
       move.l    -38(A6),(A0)
; idk = Start;
       move.l    D3,D2
; idk = (int *)((char *)idk + 3);
       move.l    D2,D0
       addq.l    #3,D0
       move.l    D0,D2
; if ((count1 == 2) || (((count1 -2) % 1000)==0)){
       cmp.l     #2,D4
       beq.s     longword_func_32
       move.l    D4,D0
       subq.l    #2,D0
       move.l    D0,-(A7)
       pea       1000
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne.s     longword_func_30
longword_func_32:
; printf("\r\nAddresses $%08X - $%08X being filled with $%08X", Start, idk, lworddata3);
       move.l    -38(A6),-(A7)
       move.l    D2,-(A7)
       move.l    D3,-(A7)
       pea       @m68kus~1_35.L
       jsr       (A2)
       add.w     #16,A7
longword_func_30:
; }
; Start++;
       addq.l    #4,D3
longword_func_27:
; }
; if ((count1 == 3) || (((count1 - 3) % 4)) ==0 ){
       cmp.l     #3,D4
       beq.s     longword_func_35
       move.l    D4,D0
       subq.l    #3,D0
       move.l    D0,-(A7)
       pea       4
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne       longword_func_33
longword_func_35:
; *Start = lworddata4;
       move.l    D3,A0
       move.l    -34(A6),(A0)
; idk = Start;
       move.l    D3,D2
; idk = (int *)((char *)idk + 3);
       move.l    D2,D0
       addq.l    #3,D0
       move.l    D0,D2
; if ((count1 == 3) || (((count1 - 3) % 1000)==0)){
       cmp.l     #3,D4
       beq.s     longword_func_38
       move.l    D4,D0
       subq.l    #3,D0
       move.l    D0,-(A7)
       pea       1000
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne.s     longword_func_36
longword_func_38:
; printf("\r\nAddresses $%08X - $%08X being filled with $%08X", Start, idk, lworddata4);
       move.l    -34(A6),-(A7)
       move.l    D2,-(A7)
       move.l    D3,-(A7)
       pea       @m68kus~1_35.L
       jsr       (A2)
       add.w     #16,A7
longword_func_36:
; }
; Start++;
       addq.l    #4,D3
longword_func_33:
; }
; count1++;
       addq.l    #1,D4
       bra       longword_func_12
longword_func_14:
; }
; printf("\r\nWriting to memory Complete.\r\nEnter '1' to read back the memory. Enter '0' to exit program.");
       pea       @m68kus~1_16.L
       jsr       (A2)
       addq.w    #4,A7
; choice = _getch();
       jsr       __getch
       move.b    D0,-1(A6)
; if (choice == '1'){
       move.b    -1(A6),D0
       cmp.b     #49,D0
       bne       longword_func_39
; //printf("\r\nwill continue");
; while (Start_hold < End_hold){
longword_func_41:
       move.l    -30(A6),D0
       cmp.l     (A4),D0
       bhs       longword_func_43
; data1a = (*Start_hold >> 8) & 0xFF;
       move.l    -30(A6),A0
       move.l    (A0),D0
       asr.l     #8,D0
       and.l     #255,D0
       move.b    D0,-52(A6)
; data1b = *Start_hold & 0xFF;
       move.l    -30(A6),A0
       move.l    (A0),D0
       and.l     #255,D0
       move.b    D0,-51(A6)
; data2a = (*Start_hold >> 24) & 0xFF;
       move.l    -30(A6),A0
       move.l    (A0),D0
       asr.l     #8,D0
       asr.l     #8,D0
       asr.l     #8,D0
       and.l     #255,D0
       move.b    D0,D7
; data2b = (*Start_hold >> 16) & 0xFF;
       move.l    -30(A6),A0
       move.l    (A0),D0
       asr.l     #8,D0
       asr.l     #8,D0
       and.l     #255,D0
       move.b    D0,D6
; idk = Start_hold;
       move.l    -30(A6),D2
; idk = (int *)((char *)idk + 3);
       move.l    D2,D0
       addq.l    #3,D0
       move.l    D0,D2
; //data = (*Start_hold >> 8) & 0xFF;
; //data2 = *Start_hold & 0xFF;
; if ((count2 == 0) || (count2 % 1000)==0){
       tst.l     D5
       beq.s     longword_func_46
       move.l    D5,-(A7)
       pea       1000
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne       longword_func_44
longword_func_46:
; printf("\r\nValues $%02X $%02X $%02X $%02X found at addresses $%08X - $%08X", data2a, data2b, data1a, data1b, Start_hold, idk);
       move.l    D2,-(A7)
       move.l    -30(A6),-(A7)
       move.b    -51(A6),D1
       and.l     #255,D1
       move.l    D1,-(A7)
       move.b    -52(A6),D1
       and.l     #255,D1
       move.l    D1,-(A7)
       and.l     #255,D6
       move.l    D6,-(A7)
       and.l     #255,D7
       move.l    D7,-(A7)
       pea       @m68kus~1_36.L
       jsr       (A2)
       add.w     #28,A7
       bra       longword_func_53
longword_func_44:
; //printf("\r\nValues $%02X $%02X found at addresses $%08X - $%08X", data, data2, Start_hold, (Start_hold | 0x0001));
; //printf("\r\n$%02X Read from address $%08X", tempdata, Start_hold);
; }
; else if ((count2 == 1) || ((count2 - 1) % 1000)==0){
       cmp.l     #1,D5
       beq.s     longword_func_49
       move.l    D5,D0
       subq.l    #1,D0
       move.l    D0,-(A7)
       pea       1000
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne       longword_func_47
longword_func_49:
; printf("\r\nValues $%02X $%02X $%02X $%02X found at addresses $%08X - $%08X", data2a, data2b, data1a, data1b, Start_hold, idk);
       move.l    D2,-(A7)
       move.l    -30(A6),-(A7)
       move.b    -51(A6),D1
       and.l     #255,D1
       move.l    D1,-(A7)
       move.b    -52(A6),D1
       and.l     #255,D1
       move.l    D1,-(A7)
       and.l     #255,D6
       move.l    D6,-(A7)
       and.l     #255,D7
       move.l    D7,-(A7)
       pea       @m68kus~1_36.L
       jsr       (A2)
       add.w     #28,A7
       bra       longword_func_53
longword_func_47:
; //printf("\r\nValues $%02X $%02X found at addresses $%08X - $%08X", data, data2, Start_hold, (Start_hold | 0x0001));
; //printf("\r\n$%02X Read from address $%08X", tempdata, Start_hold);
; }
; else if ((count2 == 2) || ((count2 - 2) % 1000)==0){
       cmp.l     #2,D5
       beq.s     longword_func_52
       move.l    D5,D0
       subq.l    #2,D0
       move.l    D0,-(A7)
       pea       1000
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne       longword_func_50
longword_func_52:
; printf("\r\nValues $%02X $%02X $%02X $%02X found at addresses $%08X - $%08X", data2a, data2b, data1a, data1b, Start_hold, idk);
       move.l    D2,-(A7)
       move.l    -30(A6),-(A7)
       move.b    -51(A6),D1
       and.l     #255,D1
       move.l    D1,-(A7)
       move.b    -52(A6),D1
       and.l     #255,D1
       move.l    D1,-(A7)
       and.l     #255,D6
       move.l    D6,-(A7)
       and.l     #255,D7
       move.l    D7,-(A7)
       pea       @m68kus~1_36.L
       jsr       (A2)
       add.w     #28,A7
       bra       longword_func_53
longword_func_50:
; }
; else if ((count2 == 3) || ((count2 - 3) % 1000)==0){
       cmp.l     #3,D5
       beq.s     longword_func_55
       move.l    D5,D0
       subq.l    #3,D0
       move.l    D0,-(A7)
       pea       1000
       jsr       LDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       tst.l     D0
       bne.s     longword_func_53
longword_func_55:
; printf("\r\nValues $%02X $%02X $%02X $%02X found at addresses $%08X - $%08X", data2a, data2b, data1a, data1b, Start_hold, idk);
       move.l    D2,-(A7)
       move.l    -30(A6),-(A7)
       move.b    -51(A6),D1
       and.l     #255,D1
       move.l    D1,-(A7)
       move.b    -52(A6),D1
       and.l     #255,D1
       move.l    D1,-(A7)
       and.l     #255,D6
       move.l    D6,-(A7)
       and.l     #255,D7
       move.l    D7,-(A7)
       pea       @m68kus~1_36.L
       jsr       (A2)
       add.w     #28,A7
longword_func_53:
; }
; count2++;
       addq.l    #1,D5
; *Start_hold++;
       move.l    -30(A6),A0
       addq.l    #4,-30(A6)
       bra       longword_func_41
longword_func_43:
       bra.s     longword_func_56
longword_func_39:
; }
; }
; else if (choice == '0'){
       move.b    -1(A6),D0
       cmp.b     #48,D0
       bne.s     longword_func_56
; printf("\r\nProgram Ended");
       pea       @m68kus~1_18.L
       jsr       (A2)
       addq.w    #4,A7
longword_func_56:
       movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2/A3/A4
       unlk      A6
       rts
; }
; }
; //////////////////////////////////////////////////////////
; //******IIC Program Functions Begin Here***************///
; //////////////////////////////////////////////////////////
; void IIC_Init(void)
; {
_IIC_Init:
; IIC_Prescale_Low = 0x31; //31
       move.b    #49,4227072
; //IIC_Prescale_Low = 0x63;
; IIC_Prescale_High = 0x00; //0xFF for reset
       clr.b     4227074
; IIC_Control = 0x80; // core enabled, interupts disabled
       move.b    #128,4227076
; //IIC_Control = 0xC0;
; //IIC_Transmit_Receive = 0x00;
; //IIC_Command_Status = 0x00;
; printf("\r\n%x",IIC_Command_Status);
       move.b    4227080,D1
       and.l     #255,D1
       move.l    D1,-(A7)
       pea       @m68kus~1_37.L
       jsr       _printf
       addq.w    #8,A7
       rts
; }
; void PollTIPFlag(void){
_PollTIPFlag:
       link      A6,#-4
; char status;
; status = IIC_Command_Status;
       move.b    4227080,-1(A6)
; //Check that TIP flag is negated
; while ((status & 0x02) != 0){
PollTIPFlag_1:
       move.b    -1(A6),D0
       and.b     #2,D0
       beq.s     PollTIPFlag_3
; 1;
       bra       PollTIPFlag_1
PollTIPFlag_3:
       unlk      A6
       rts
; //printf("%x",status);
; //printf("TIP ");
; }
; }
; void IIC_StartCommand(int block_sel){
_IIC_StartCommand:
       link      A6,#-4
       movem.l   D2/D3/A2,-(A7)
       lea       _printf.L,A2
; char dog;
; int cat*;
; int slave_addr = 0x00;
       clr.l     D3
; if (block_sel == 0){
       move.l    8(A6),D0
       bne.s     IIC_StartCommand_1
; printf("\r\nBlock is set to 0");
       pea       @m68kus~1_38.L
       jsr       (A2)
       addq.w    #4,A7
; slave_addr = 0xA0;
       move.l    #160,D3
       bra.s     IIC_StartCommand_3
IIC_StartCommand_1:
; }
; else if (block_sel == 1){
       move.l    8(A6),D0
       cmp.l     #1,D0
       bne.s     IIC_StartCommand_3
; printf("\r\nBlock is set to 1");
       pea       @m68kus~1_39.L
       jsr       (A2)
       addq.w    #4,A7
; slave_addr = 0xA2;
       move.l    #162,D3
IIC_StartCommand_3:
; }
; printf("\r\nSending Start Command...");
       pea       @m68kus~1_40.L
       jsr       (A2)
       addq.w    #4,A7
; printf("\r\nControl Register is %x", IIC_Control);
       move.b    4227076,D1
       and.l     #255,D1
       move.l    D1,-(A7)
       pea       @m68kus~1_41.L
       jsr       (A2)
       addq.w    #8,A7
; //Check that no transmit is in progress
; //IIC_Command_Status = 0x80;
; //PollTIPFlag();
; dog = IIC_Command_Status;
       move.b    4227080,D2
; printf("\r\n%x", dog);
       ext.w     D2
       ext.l     D2
       move.l    D2,-(A7)
       pea       @m68kus~1_37.L
       jsr       (A2)
       addq.w    #8,A7
; IIC_Transmit_Receive = slave_addr; //Slave Adress and write bit
       move.b    D3,4227078
; //IIC_Command_Status = 0x10; //Set STA and WR bit
; IIC_Command_Status = 0x90;
       move.b    #144,4227080
; dog = IIC_Command_Status;
       move.b    4227080,D2
; printf("\r\n%x", dog);
       ext.w     D2
       ext.l     D2
       move.l    D2,-(A7)
       pea       @m68kus~1_37.L
       jsr       (A2)
       addq.w    #8,A7
; //Wait for transmit to complete
; PollTIPFlag();
       jsr       _PollTIPFlag
; WaitForAck();
       jsr       _WaitForAck
; printf("\r\nStart Command Received");
       pea       @m68kus~1_42.L
       jsr       (A2)
       addq.w    #4,A7
       movem.l   (A7)+,D2/D3/A2
       unlk      A6
       rts
; }
; void IIC_RepeatedStartCommand(int block_sel){
_IIC_RepeatedStartCommand:
       link      A6,#0
       movem.l   D2/A2,-(A7)
       lea       _printf.L,A2
; int slave_addr = 0x00;
       clr.l     D2
; if (block_sel == 0){
       move.l    8(A6),D0
       bne.s     IIC_RepeatedStartCommand_1
; printf("\r\nBlock is set to 0");
       pea       @m68kus~1_38.L
       jsr       (A2)
       addq.w    #4,A7
; slave_addr = 0xA1;
       move.l    #161,D2
       bra.s     IIC_RepeatedStartCommand_3
IIC_RepeatedStartCommand_1:
; }
; else if (block_sel == 1){
       move.l    8(A6),D0
       cmp.l     #1,D0
       bne.s     IIC_RepeatedStartCommand_3
; printf("\r\nBlock is set to 1");
       pea       @m68kus~1_39.L
       jsr       (A2)
       addq.w    #4,A7
; slave_addr = 0xA3;
       move.l    #163,D2
IIC_RepeatedStartCommand_3:
; }
; printf("\r\nSending Start Command...");
       pea       @m68kus~1_40.L
       jsr       (A2)
       addq.w    #4,A7
; printf("\r\nControl Register is %x", IIC_Control);
       move.b    4227076,D1
       and.l     #255,D1
       move.l    D1,-(A7)
       pea       @m68kus~1_41.L
       jsr       (A2)
       addq.w    #8,A7
; //Check that no transmit is in progress
; //IIC_Command_Status = 0x80;
; //PollTIPFlag();
; IIC_Transmit_Receive = slave_addr; //Slave Adress and write bit
       move.b    D2,4227078
; //IIC_Command_Status = 0x10; //Set STA and WR bit
; printf("\r\nTransmit/receive before: %x", IIC_Transmit_Receive);
       move.b    4227078,D1
       and.l     #255,D1
       move.l    D1,-(A7)
       pea       @m68kus~1_43.L
       jsr       (A2)
       addq.w    #8,A7
; IIC_Command_Status = 0x90; //
       move.b    #144,4227080
; printf("\r\nTransmit/receive after: %x", IIC_Transmit_Receive);
       move.b    4227078,D1
       and.l     #255,D1
       move.l    D1,-(A7)
       pea       @m68kus~1_44.L
       jsr       (A2)
       addq.w    #8,A7
; //Wait for transmit to complete
; PollTIPFlag();
       jsr       _PollTIPFlag
; WaitForAck();
       jsr       _WaitForAck
; printf("\r\nStart Command Received");
       pea       @m68kus~1_42.L
       jsr       (A2)
       addq.w    #4,A7
       movem.l   (A7)+,D2/A2
       unlk      A6
       rts
; }
; void IIC_SendAddress(int address_high, int address_low){
_IIC_SendAddress:
       link      A6,#0
       move.l    A2,-(A7)
       lea       _printf.L,A2
; printf("\r\nSending address");
       pea       @m68kus~1_45.L
       jsr       (A2)
       addq.w    #4,A7
; //IIC_Command_Status = 0x10;
; IIC_Transmit_Receive = address_high; //High byte internal address
       move.l    8(A6),D0
       move.b    D0,4227078
; printf("\r\nTransmit/receive before: %x", IIC_Transmit_Receive);
       move.b    4227078,D1
       and.l     #255,D1
       move.l    D1,-(A7)
       pea       @m68kus~1_43.L
       jsr       (A2)
       addq.w    #8,A7
; IIC_Command_Status = 0x10; //set WR bit
       move.b    #16,4227080
; printf("\r\nTransmit/receive after: %x", IIC_Transmit_Receive);
       move.b    4227078,D1
       and.l     #255,D1
       move.l    D1,-(A7)
       pea       @m68kus~1_44.L
       jsr       (A2)
       addq.w    #8,A7
; //Wait for transmit to complete
; PollTIPFlag();
       jsr       _PollTIPFlag
; WaitForAck();
       jsr       _WaitForAck
; printf("\r\nHigh byte address sent");
       pea       @m68kus~1_46.L
       jsr       (A2)
       addq.w    #4,A7
; //IIC_Command_Status = 0x10;
; IIC_Transmit_Receive = address_low; //Low byte internal address
       move.l    12(A6),D0
       move.b    D0,4227078
; printf("\r\nTransmit/receive before: %x", IIC_Transmit_Receive);
       move.b    4227078,D1
       and.l     #255,D1
       move.l    D1,-(A7)
       pea       @m68kus~1_43.L
       jsr       (A2)
       addq.w    #8,A7
; IIC_Command_Status = 0x10; //set WR bit
       move.b    #16,4227080
; printf("\r\nTransmit/receive after: %x", IIC_Transmit_Receive);
       move.b    4227078,D1
       and.l     #255,D1
       move.l    D1,-(A7)
       pea       @m68kus~1_44.L
       jsr       (A2)
       addq.w    #8,A7
; //Wait for transmit to complete
; PollTIPFlag();
       jsr       _PollTIPFlag
; WaitForAck();
       jsr       _WaitForAck
; printf("\r\nLow byte address sent");
       pea       @m68kus~1_47.L
       jsr       (A2)
       addq.w    #4,A7
       move.l    (A7)+,A2
       unlk      A6
       rts
; }
; void IIC_WriteData(int data){
_IIC_WriteData:
       link      A6,#0
       move.l    A2,-(A7)
       lea       _printf.L,A2
; //IIC_Command_Status = 0x10;
; IIC_Transmit_Receive = data; //High byte internal address
       move.l    8(A6),D0
       move.b    D0,4227078
; printf("\r\nTransmit/receive before: %x", IIC_Transmit_Receive);
       move.b    4227078,D1
       and.l     #255,D1
       move.l    D1,-(A7)
       pea       @m68kus~1_43.L
       jsr       (A2)
       addq.w    #8,A7
; IIC_Command_Status = 0x10; //set WR bit
       move.b    #16,4227080
; printf("\r\nTransmit/receive after: %x", IIC_Transmit_Receive);
       move.b    4227078,D1
       and.l     #255,D1
       move.l    D1,-(A7)
       pea       @m68kus~1_44.L
       jsr       (A2)
       addq.w    #8,A7
; //Wait for transmit to complete
; PollTIPFlag();
       jsr       _PollTIPFlag
; WaitForAck();
       jsr       _WaitForAck
; IIC_Command_Status = 0x40; //Set STO bit
       move.b    #64,4227080
; PollTIPFlag();
       jsr       _PollTIPFlag
; printf("\r\nData Writen");
       pea       @m68kus~1_48.L
       jsr       (A2)
       addq.w    #4,A7
       move.l    (A7)+,A2
       unlk      A6
       rts
; }
; void IIC_ReadData(void){
_IIC_ReadData:
       movem.l   D2/A2,-(A7)
       lea       _printf.L,A2
; int recieved;
; printf("\r\nTransmit/receive before: %x", IIC_Transmit_Receive);
       move.b    4227078,D1
       and.l     #255,D1
       move.l    D1,-(A7)
       pea       @m68kus~1_43.L
       jsr       (A2)
       addq.w    #8,A7
; IIC_Command_Status = 0x20; //set WR bit
       move.b    #32,4227080
; printf("\r\nTransmit/receive after: %x", IIC_Transmit_Receive);
       move.b    4227078,D1
       and.l     #255,D1
       move.l    D1,-(A7)
       pea       @m68kus~1_44.L
       jsr       (A2)
       addq.w    #8,A7
; PollTIPFlag();
       jsr       _PollTIPFlag
; while ((IIC_Command_Status & 0x01) != 1){
IIC_ReadData_1:
       move.b    4227080,D0
       and.b     #1,D0
       cmp.b     #1,D0
       beq.s     IIC_ReadData_3
; 1;
       bra       IIC_ReadData_1
IIC_ReadData_3:
; }
; //IIC_Command_Status &= 0xFE;
; recieved = IIC_Transmit_Receive;
       move.b    4227078,D0
       and.l     #255,D0
       move.l    D0,D2
; printf("\r\nDATA READ IS: %02X", recieved);
       move.l    D2,-(A7)
       pea       @m68kus~1_49.L
       jsr       (A2)
       addq.w    #8,A7
; //IIC_Command_Status |= 0x48; //set STO bit, ACK bit
; IIC_Command_Status = 0x48;
       move.b    #72,4227080
; recieved = IIC_Transmit_Receive;
       move.b    4227078,D0
       and.l     #255,D0
       move.l    D0,D2
       movem.l   (A7)+,D2/A2
       rts
; }
; int CheckAck(void){
_CheckAck:
       link      A6,#-8
; int val;
; char test;
; test = IIC_Command_Status;
       move.b    4227080,-1(A6)
; val = (test & 0x80);
       move.b    -1(A6),D0
       ext.w     D0
       ext.l     D0
       and.l     #128,D0
       move.l    D0,-6(A6)
; if (val == 0){
       move.l    -6(A6),D0
       bne.s     CheckAck_1
; return 0;
       clr.l     D0
       bra.s     CheckAck_3
CheckAck_1:
; }
; else{
; return 1;
       moveq     #1,D0
CheckAck_3:
       unlk      A6
       rts
; }
; }
; void WaitForAck(void){
_WaitForAck:
; while (CheckAck() == 1){
WaitForAck_1:
       jsr       _CheckAck
       cmp.l     #1,D0
       bne.s     WaitForAck_3
; 1;
       bra       WaitForAck_1
WaitForAck_3:
       rts
; }
; }
; void IIC_WriteDataByte(int data, int address){
_IIC_WriteDataByte:
       link      A6,#-12
       move.l    D2,-(A7)
       move.l    12(A6),D2
; int block_sel = (address >> 16) & 0xF;  // extract most significant byte
       move.l    D2,D0
       asr.l     #8,D0
       asr.l     #8,D0
       and.l     #15,D0
       move.l    D0,-12(A6)
; int address_high = (address >> 8) & 0xFF;  // extract high byte
       move.l    D2,D0
       asr.l     #8,D0
       and.l     #255,D0
       move.l    D0,-8(A6)
; int address_low = address & 0xFF;  // extract low byte
       move.l    D2,D0
       and.l     #255,D0
       move.l    D0,-4(A6)
; //Send start command
; IIC_StartCommand(block_sel);
       move.l    -12(A6),-(A7)
       jsr       _IIC_StartCommand
       addq.w    #4,A7
; IIC_SendAddress(address_high, address_low);
       move.l    -4(A6),-(A7)
       move.l    -8(A6),-(A7)
       jsr       _IIC_SendAddress
       addq.w    #8,A7
; IIC_WriteData(data);
       move.l    8(A6),-(A7)
       jsr       _IIC_WriteData
       addq.w    #4,A7
       move.l    (A7)+,D2
       unlk      A6
       rts
; }
; void IIC_ReadDataByte(int address){
_IIC_ReadDataByte:
       link      A6,#-8
       movem.l   D2/D3,-(A7)
       move.l    8(A6),D2
; int block_sel = (address >> 16) & 0xF;  // extract most significant byte
       move.l    D2,D0
       asr.l     #8,D0
       asr.l     #8,D0
       and.l     #15,D0
       move.l    D0,D3
; int address_high = (address >> 8) & 0xFF;  // extract high byte
       move.l    D2,D0
       asr.l     #8,D0
       and.l     #255,D0
       move.l    D0,-8(A6)
; int address_low = address & 0xFF;  // extract low byte
       move.l    D2,D0
       and.l     #255,D0
       move.l    D0,-4(A6)
; //Send start command
; IIC_StartCommand(block_sel);
       move.l    D3,-(A7)
       jsr       _IIC_StartCommand
       addq.w    #4,A7
; IIC_SendAddress(address_high, address_low);
       move.l    -4(A6),-(A7)
       move.l    -8(A6),-(A7)
       jsr       _IIC_SendAddress
       addq.w    #8,A7
; IIC_RepeatedStartCommand(block_sel);
       move.l    D3,-(A7)
       jsr       _IIC_RepeatedStartCommand
       addq.w    #4,A7
; IIC_ReadData();
       jsr       _IIC_ReadData
       movem.l   (A7)+,D2/D3
       unlk      A6
       rts
; }
; void IIC_WriteDataBlock(int address, int blocksize, int blockstart){
_IIC_WriteDataBlock:
       link      A6,#0
       movem.l   D2/D3/D4/D5/A2,-(A7)
       lea       _printf.L,A2
       move.l    8(A6),D4
; int block_sel = (address >> 16) & 0xF;  // extract most significant byte
       move.l    D4,D0
       asr.l     #8,D0
       asr.l     #8,D0
       and.l     #15,D0
       move.l    D0,D5
; int address_high = (address >> 8) & 0xFF;  // extract high byte
       move.l    D4,D0
       asr.l     #8,D0
       and.l     #255,D0
       move.l    D0,D3
; int address_low = address & 0xFF;  // extract low byte
       move.l    D4,D0
       and.l     #255,D0
       move.l    D0,D2
; // print the results
; printf("\r\nBlock Sel: %X", block_sel);
       move.l    D5,-(A7)
       pea       @m68kus~1_50.L
       jsr       (A2)
       addq.w    #8,A7
; printf("\r\nAddress High: %X", address_high);
       move.l    D3,-(A7)
       pea       @m68kus~1_51.L
       jsr       (A2)
       addq.w    #8,A7
; printf("\r\nAddress Low: %X", address_low);
       move.l    D2,-(A7)
       pea       @m68kus~1_52.L
       jsr       (A2)
       addq.w    #8,A7
; //Send start command
; IIC_StartCommand(block_sel);
       move.l    D5,-(A7)
       jsr       _IIC_StartCommand
       addq.w    #4,A7
; IIC_SendAddress(address_high, address_low);
       move.l    D2,-(A7)
       move.l    D3,-(A7)
       jsr       _IIC_SendAddress
       addq.w    #8,A7
       movem.l   (A7)+,D2/D3/D4/D5/A2
       unlk      A6
       rts
; }
; void Wait500ms(void)
; {
_Wait500ms:
       move.l    D2,-(A7)
; int i;
; for (i = 0; i < 500; i++)
       clr.l     D2
Wait500ms_1:
       cmp.l     #500,D2
       bge.s     Wait500ms_3
; Wait1ms();
       jsr       _Wait1ms
       addq.l    #1,D2
       bra       Wait500ms_1
Wait500ms_3:
       move.l    (A7)+,D2
       rts
; }
; void Wait1s(void)
; {
_Wait1s:
       move.l    D2,-(A7)
; int i;
; for (i = 0; i < 1000; i++)
       clr.l     D2
Wait1s_1:
       cmp.l     #1000,D2
       bge.s     Wait1s_3
; Wait1ms();
       jsr       _Wait1ms
       addq.l    #1,D2
       bra       Wait1s_1
Wait1s_3:
       move.l    (A7)+,D2
       rts
; }
; void SendI2C(char byte, char cmd) {
_SendI2C:
       link      A6,#0
; IIC_Transmit_Receive = byte;
       move.b    11(A6),4227078
; IIC_Command_Status = cmd;
       move.b    15(A6),4227080
       unlk      A6
       rts
; }
; void DAC_Blinky() {
_DAC_Blinky:
       move.l    A2,-(A7)
       lea       _SendI2C.L,A2
; // Write Address
; printf("\r\nSending Slave Address");
       pea       @m68kus~1_53.L
       jsr       _printf
       addq.w    #4,A7
; PollTIPFlag();
       jsr       _PollTIPFlag
; SendI2C(0x90, 0x91);    // ADC/DAC Slave Address at 0x92, Start writing 0x91
       pea       145
       pea       144
       jsr       (A2)
       addq.w    #8,A7
; WaitForAck();
       jsr       _WaitForAck
; // Set Control
; printf("\r\nSending Control Byte");
       pea       @m68kus~1_54.L
       jsr       _printf
       addq.w    #4,A7
; SendI2C(0x40, WRITE);     // DAC Output, Write cmd 0x10
       pea       16
       pea       64
       jsr       (A2)
       addq.w    #8,A7
; WaitForAck();
       jsr       _WaitForAck
; // Continuous data stream w/ Blinky until reset
; while (1) {
DAC_Blinky_1:
; SendI2C(0xFF, WRITE);
       pea       16
       pea       255
       jsr       (A2)
       addq.w    #8,A7
; Wait500ms();
       jsr       _Wait500ms
; SendI2C(0x00, WRITE);
       pea       16
       clr.l     -(A7)
       jsr       (A2)
       addq.w    #8,A7
; Wait1s();
       jsr       _Wait1s
; SendI2C(0xFF, WRITE);
       pea       16
       pea       255
       jsr       (A2)
       addq.w    #8,A7
; Wait500ms();
       jsr       _Wait500ms
; SendI2C(0x00, WRITE);
       pea       16
       clr.l     -(A7)
       jsr       (A2)
       addq.w    #8,A7
; Wait1s();
       jsr       _Wait1s
       bra       DAC_Blinky_1
; }
; }
; /******************************************************************************************************************************
; * Start of user program
; ******************************************************************************************************************************/
; void main()
; {
_main:
       link      A6,#-208
       movem.l   D2/D3/D4/A2/A3/A4,-(A7)
       lea       _printf.L,A2
       lea       _scanf.L,A3
       lea       _InstallExceptionHandler.L,A4
; unsigned int row, i=0, count=0, counter1=1;
       clr.l     -204(A6)
       clr.l     -200(A6)
       move.l    #1,-196(A6)
; char c, text[150] ;
; int PassFailFlag = 1 ;
       move.l    #1,-40(A6)
; //IIC variables
; char choice = '0';
       moveq     #48,D2
; int WriteData;
; int WriteAddress;
; int ReadAddress;
; int WriteBlockAddress;
; int WriteBlockSize;
; int WriteBlockMaxSize;
; int WriteBlockDataStart;
; int ReadBlockAddress;
; int ReadBlockMaxSize;
; int ReadBlockSize;
; int num;
; /////Mem Test Variables
; // unsigned int *RamPtr;
; // unsigned int Start, End ;
; // unsigned int data_byte1, data_byte2, data_byte3, data_byte4; //Test data recieved from user (bytes)
; // unsigned int data_word1, data_word2, data_word3, data_word4;
; // unsigned int data_Lword1, data_Lword2, data_Lword3, data_Lword4;
; // char type;
; // int testnum = 1;
; /////Mem Test Variables
; i = x = y = z = PortA_Count =0;
       clr.l     _PortA_Count.L
       clr.l     _z.L
       clr.l     _y.L
       clr.l     _x.L
       clr.l     -204(A6)
; Timer1Count = Timer2Count = Timer3Count = Timer4Count = 0;
       clr.b     _Timer4Count.L
       clr.b     _Timer3Count.L
       clr.b     _Timer2Count.L
       clr.b     _Timer1Count.L
; InstallExceptionHandler(PIA_ISR, 25) ;          // install interrupt handler for PIAs 1 and 2 on level 1 IRQ
       pea       25
       pea       _PIA_ISR.L
       jsr       (A4)
       addq.w    #8,A7
; InstallExceptionHandler(ACIA_ISR, 26) ;		    // install interrupt handler for ACIA on level 2 IRQ
       pea       26
       pea       _ACIA_ISR.L
       jsr       (A4)
       addq.w    #8,A7
; InstallExceptionHandler(Timer_ISR, 27) ;		// install interrupt handler for Timers 1-4 on level 3 IRQ
       pea       27
       pea       _Timer_ISR.L
       jsr       (A4)
       addq.w    #8,A7
; InstallExceptionHandler(Key2PressISR, 28) ;	    // install interrupt handler for Key Press 2 on DE1 board for level 4 IRQ
       pea       28
       pea       _Key2PressISR.L
       jsr       (A4)
       addq.w    #8,A7
; InstallExceptionHandler(Key1PressISR, 29) ;	    // install interrupt handler for Key Press 1 on DE1 board for level 5 IRQ
       pea       29
       pea       _Key1PressISR.L
       jsr       (A4)
       addq.w    #8,A7
; Timer1Data = 0x10;		// program time delay into timers 1-4
       move.b    #16,4194352
; Timer2Data = 0x20;
       move.b    #32,4194356
; Timer3Data = 0x15;
       move.b    #21,4194360
; Timer4Data = 0x25;
       move.b    #37,4194364
; Timer1Control = 3;		// write 3 to control register to Bit0 = 1 (enable interrupt from timers) 1 - 4 and allow them to count Bit 1 = 1
       move.b    #3,4194354
; Timer2Control = 3;
       move.b    #3,4194358
; Timer3Control = 3;
       move.b    #3,4194362
; Timer4Control = 3;
       move.b    #3,4194366
; Init_LCD();             // initialise the LCD display to use a parallel data interface and 2 lines of display
       jsr       _Init_LCD
; Init_RS232() ;          // initialise the RS232 port for use with hyper terminal
       jsr       _Init_RS232
; /*************************************************************************************************
; **  User Program
; *************************************************************************************************/
; printf("\r\nIIC program will begin");
       pea       @m68kus~1_55.L
       jsr       (A2)
       addq.w    #4,A7
; printf("\r\nEnter 0 ... Write Single Byte");
       pea       @m68kus~1_56.L
       jsr       (A2)
       addq.w    #4,A7
; printf("\r\nEnter 1 ... Read Single Byte");
       pea       @m68kus~1_57.L
       jsr       (A2)
       addq.w    #4,A7
; printf("\r\nEnter 2 ... Write Data Block");
       pea       @m68kus~1_58.L
       jsr       (A2)
       addq.w    #4,A7
; printf("\r\nEnter 3 ... Read Data Block");
       pea       @m68kus~1_59.L
       jsr       (A2)
       addq.w    #4,A7
; printf("\r\nEnter 4 ... Waveform DAC and LED Blinky");
       pea       @m68kus~1_60.L
       jsr       (A2)
       addq.w    #4,A7
; printf("\r\nEnter 5 ... Read Analog input from ADC Channel\r\n");
       pea       @m68kus~1_61.L
       jsr       (A2)
       addq.w    #4,A7
; choice = _getch();
       jsr       __getch
       move.b    D0,D2
; IIC_Init();
       jsr       _IIC_Init
; while (1) {
main_1:
; if (choice == '0') {
       cmp.b     #48,D2
       bne       main_4
; printf("Single Byte Write Initiated\r\nEnter Data Byte: ");
       pea       @m68kus~1_62.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &WriteData);
       pea       -36(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
; while (WriteData > 0xFF) {
main_6:
       move.l    -36(A6),D0
       cmp.l     #255,D0
       ble.s     main_8
; printf("Enter Valid Data Byte: ");
       pea       @m68kus~1_63.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &WriteData);
       pea       -36(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
       bra       main_6
main_8:
; }
; printf("Enter Address (00000 - 1FFFF): ");
       pea       @m68kus~1_64.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &WriteAddress);
       pea       -32(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
; while (WriteAddress > 0x1FFFF) {
main_9:
       move.l    -32(A6),D0
       cmp.l     #131071,D0
       ble.s     main_11
; printf("Enter Valid Address: ");
       pea       @m68kus~1_65.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", WriteAddress);
       move.l    -32(A6),-(A7)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
       bra       main_9
main_11:
; }
; printf("\r\nWriting Data Byte ...");
       pea       @m68kus~1_66.L
       jsr       (A2)
       addq.w    #4,A7
; IIC_WriteDataByte(WriteData, WriteAddress);
       move.l    -32(A6),-(A7)
       move.l    -36(A6),-(A7)
       jsr       _IIC_WriteDataByte
       addq.w    #8,A7
       bra       main_39
main_4:
; }
; else if (choice == '1') {
       cmp.b     #49,D2
       bne       main_12
; printf("\r\nSingle Byte Read Initiated\r\nEnter Address (00000 - 1FFFF): ");
       pea       @m68kus~1_67.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &ReadAddress);
       pea       -28(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
; while (ReadAddress > 0x1FFFF) {
main_14:
       move.l    -28(A6),D0
       cmp.l     #131071,D0
       ble.s     main_16
; printf("Enter Valid Address: ");
       pea       @m68kus~1_65.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &ReadAddress);
       pea       -28(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
       bra       main_14
main_16:
; }
; printf("\r\nReading Data Byte ...");
       pea       @m68kus~1_68.L
       jsr       (A2)
       addq.w    #4,A7
; IIC_ReadDataByte(ReadAddress);
       move.l    -28(A6),-(A7)
       jsr       _IIC_ReadDataByte
       addq.w    #4,A7
       bra       main_39
main_12:
; }
; else if (choice == '2') {
       cmp.b     #50,D2
       bne       main_17
; printf("\r\nData Block Write Initiated\r\nEnter Starting Address (00000 - 1FFFF): ");
       pea       @m68kus~1_69.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &WriteBlockAddress);
       pea       -24(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
; while (WriteBlockAddress > 0x1FFFF) {
main_19:
       move.l    -24(A6),D0
       cmp.l     #131071,D0
       ble.s     main_21
; printf("Enter Valid Address: ");
       pea       @m68kus~1_65.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &WriteBlockAddress);
       pea       -24(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
       bra       main_19
main_21:
; }
; WriteBlockMaxSize = (0x1FFFF - WriteBlockAddress);
       move.l    #131071,D0
       sub.l     -24(A6),D0
       move.l    D0,D4
; printf("Enter Data Block Size (00000 - %05X): ", WriteBlockMaxSize);
       move.l    D4,-(A7)
       pea       @m68kus~1_70.L
       jsr       (A2)
       addq.w    #8,A7
; scanf("%x", &WriteBlockSize);
       pea       -20(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
; while (WriteBlockSize > WriteBlockMaxSize) {
main_22:
       cmp.l     -20(A6),D4
       bge.s     main_24
; printf("Enter Valid Block Size (00000 - %05X): ", WriteBlockMaxSize);
       move.l    D4,-(A7)
       pea       @m68kus~1_71.L
       jsr       (A2)
       addq.w    #8,A7
; scanf("%x", &WriteBlockSize);
       pea       -20(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
       bra       main_22
main_24:
; }
; printf("Enter Starting Data Byte: ");
       pea       @m68kus~1_72.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &WriteBlockDataStart);
       pea       -16(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
; while (WriteBlockDataStart > 0xFF) {
main_25:
       move.l    -16(A6),D0
       cmp.l     #255,D0
       ble.s     main_27
; printf("Enter Valid Data Byte: ");
       pea       @m68kus~1_63.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &WriteBlockDataStart);
       pea       -16(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
       bra       main_25
main_27:
; }
; IIC_WriteDataBlock(WriteBlockAddress, WriteBlockSize, WriteBlockDataStart);
       move.l    -16(A6),-(A7)
       move.l    -20(A6),-(A7)
       move.l    -24(A6),-(A7)
       jsr       _IIC_WriteDataBlock
       add.w     #12,A7
       bra       main_39
main_17:
; }
; else if (choice == '3') {
       cmp.b     #51,D2
       bne       main_28
; printf("\r\nData Block Read Initiated\r\nEnter Starting Address (00000 - 1FFFF): ");
       pea       @m68kus~1_73.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &ReadBlockAddress);
       pea       -12(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
; while (ReadBlockAddress > 0x1FFFF) {
main_30:
       move.l    -12(A6),D0
       cmp.l     #131071,D0
       ble.s     main_32
; printf("Enter Valid Address");
       pea       @m68kus~1_74.L
       jsr       (A2)
       addq.w    #4,A7
; scanf("%x", &ReadBlockAddress);
       pea       -12(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
       bra       main_30
main_32:
; }
; ReadBlockMaxSize = (0x1FFFF - ReadBlockAddress);
       move.l    #131071,D0
       sub.l     -12(A6),D0
       move.l    D0,D3
; printf("Enter Data Block Size (00000 - %05X): ", ReadBlockMaxSize);
       move.l    D3,-(A7)
       pea       @m68kus~1_70.L
       jsr       (A2)
       addq.w    #8,A7
; scanf("%x", &ReadBlockSize);
       pea       -8(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
; while (ReadBlockSize > ReadBlockMaxSize) {
main_33:
       cmp.l     -8(A6),D3
       bge.s     main_35
; printf("Enter Valid Block Size (00000 - %05X): ", ReadBlockMaxSize);
       move.l    D3,-(A7)
       pea       @m68kus~1_71.L
       jsr       (A2)
       addq.w    #8,A7
; scanf("%x", &ReadBlockSize);
       pea       -8(A6)
       pea       @m68kus~1_3.L
       jsr       (A3)
       addq.w    #8,A7
       bra       main_33
main_35:
       bra       main_39
main_28:
; }
; }
; else if (choice == '4') {
       cmp.b     #52,D2
       bne.s     main_36
; printf("\r\nWaveform DAC and LED Blinky Initiated\r\n");
       pea       @m68kus~1_75.L
       jsr       (A2)
       addq.w    #4,A7
; DAC_Blinky();
       jsr       _DAC_Blinky
       bra.s     main_39
main_36:
; }
; else if (choice == '5') {
       cmp.b     #53,D2
       bne.s     main_38
; printf("\r\nRead Analog input from ADC Channel Initiated");
       pea       @m68kus~1_76.L
       jsr       (A2)
       addq.w    #4,A7
       bra.s     main_39
main_38:
; }
; else {
; printf("\r\nInvalid Selection, Please Select an Option Between 0-5.");
       pea       @m68kus~1_77.L
       jsr       (A2)
       addq.w    #4,A7
main_39:
; }
; printf("\r\nProgram ended");
       pea       @m68kus~1_78.L
       jsr       (A2)
       addq.w    #4,A7
       bra       main_1
; }
; }
ULDIV:
       link    A6,#0
       movem.l D0/D1,-(A7)
       move.l  8(A6),D1
       move.l  12(A6),D0
       bra.s   ldiv_3
LDIV:
       link    A6,#0
       movem.l D0/D1,-(A7)
       move.l  8(A6),D1
       move.l  12(A6),D0
       tst.l   D0
       bpl.s   ldiv_1
       neg.l   D0
       tst.l   D1
       bpl.s   ldiv_2
       neg.l   D1
       bsr.s   dodiv
       neg.l   D1
       bra.s   ldiv_4
ldiv_1:
       tst.l   D1
       bpl.s   ldiv_3
       neg.l   D1
       bsr.s   dodiv
       neg.l   D0
       bra.s   ldiv_4
ldiv_2:
       bsr.s   dodiv
       neg.l   D0
       neg.l   D1
       bra.s   ldiv_4
ldiv_3:
       bsr.s   dodiv
ldiv_4:
       move.l  D0,8(A6)
       move.l  D1,12(A6)
       movem.l (A7)+,D0/D1
       unlk    A6
       rts
dodiv:
       cmpi.l  #$FFFF,D1
       bhi.s   dodiv_2
       cmpi.l  #$FFFF,D0
       bhi.s   dodiv_1
       divu    D1,D0
       move.l  D0,D1
       clr.w   D1
       swap    D1
       andi.l  #$FFFF,D0
       rts
dodiv_1:
       movem.w D0/D2,-(A7)
       clr.w   D0
       swap    D0
       divu    D1,D0
       move.w  D0,D2
       move.w  (A7)+,D0
       divu    D1,D0
       swap    D0
       clr.l   D1
       move.w  D0,D1
       move.w  D2,D0
       swap    D0
       move.w  (A7)+,D2
       rts
dodiv_2:
       movem.l D2/D3/D4,-(A7)
       move.l  D1,D2
       clr.w   D2
       swap    D2
       addq.l  #1,D2
       move.l  D0,D3
       move.l  D1,D4
       move.l  D2,D1
       bsr.s   dodiv_1
       move.l  D4,D1
       divu    D2,D1
       divu    D1,D0
       andi.l  #$FFFF,D0
dodiv_3:
       move.l  D4,D1
       move.l  D4,D2
       swap    D2
       mulu    D0,D1
       mulu    D0,D2
       swap    D2
       add.l   D2,D1
       sub.l   D3,D1
       bhi.s   dodiv_4
       neg.l   D1
       cmp.l   D1,D4
       bhi.s   dodiv_5
       addq.l  #1,D0
       bra.s   dodiv_3
dodiv_4:
       subq.l  #1,D0
       bra.s   dodiv_3
dodiv_5:
       movem.l (A7)+,D2/D3/D4
       rts
_scanf:
       link      A6,#-4
       movem.l   D2,-(A7)
       lea       8(A6),A0
       addq.w    #4,A0
       move.l    A0,D2
       move.l    D2,-(A7)
       move.l    8(A6),-(A7)
       clr.l     -(A7)
       bsr       _vsscanf
       add.w     #12,A7
       move.l    D0,-4(A6)
       clr.l     D2
       move.l    -4(A6),D0
       movem.l   (A7)+,D2
       unlk      A6
       rts
_printf:
       link      A6,#-4
       movem.l   D2,-(A7)
       lea       8(A6),A0
       addq.w    #4,A0
       move.l    A0,D2
       move.l    D2,-(A7)
       move.l    8(A6),-(A7)
       clr.l     -(A7)
       bsr       _vsprintf
       add.w     #12,A7
       move.l    D0,-4(A6)
       clr.l     D2
       move.l    -4(A6),D0
       movem.l   (A7)+,D2
       unlk      A6
       rts
@vsscanf_scanread:
       link      A6,#-4
       movem.l   A2,-(A7)
       lea       @vsscanf_bufx,A2
       tst.l     8(A6)
       beq.s     @vsscanf_scanread_1
       move.l    8(A6),A0
       addq.l    #4,8(A6)
       move.l    (A0),A0
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       move.l    D0,-4(A6)
       beq.s     @vsscanf_scanread_3
       move.l    -4(A6),D0
       bra.s     @vsscanf_scanread_4
@vsscanf_scanread_3:
       moveq     #-1,D0
@vsscanf_scanread_4:
       bra       @vsscanf_scanread_5
@vsscanf_scanread_1:
       move.l    (A2),A0
       move.b    (A0),D0
       bne.s     @vsscanf_scanread_6
       pea       @vsscanf_buf
       bsr       _gets
       addq.w    #4,A7
       move.l    D0,(A2)
       pea       @vsscanf_1
       pea       @vsscanf_buf
       bsr       _strcat
       addq.w    #8,A7
@vsscanf_scanread_6:
       move.l    (A2),A0
       addq.l    #1,(A2)
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
@vsscanf_scanread_5:
       movem.l   (A7)+,A2
       unlk      A6
       rts
@vsscanf_scanputback:
       link      A6,#0
       movem.l   D2/D3,-(A7)
       move.l    12(A6),D2
       move.l    8(A6),D3
       beq.s     @vsscanf_scanputback_1
       cmp.l     #-1,D2
       beq.s     @vsscanf_scanputback_3
       subq.l    #4,D3
       move.l    D3,A0
       move.l    (A0),A0
       move.b    D2,(A0)
       bra.s     @vsscanf_scanputback_4
@vsscanf_scanputback_3:
       move.l    D3,A0
       subq.l    #1,(A0)
@vsscanf_scanputback_4:
       bra.s     @vsscanf_scanputback_6
@vsscanf_scanputback_1:
       lea       @vsscanf_buf,A0
       move.l    A0,D0
       cmp.l     @vsscanf_bufx,D0
       bne.s     @vsscanf_scanputback_5
       clr.b     @vsscanf_buf
       move.l    D2,-(A7)
       bsr       _ungetch
       addq.w    #4,A7
       bra.s     @vsscanf_scanputback_6
@vsscanf_scanputback_5:
       subq.l    #1,@vsscanf_bufx
       move.l    @vsscanf_bufx,A0
       move.b    D2,(A0)
@vsscanf_scanputback_6:
       move.l    D2,D0
       movem.l   (A7)+,D2/D3
       unlk      A6
       rts
@vsscanf_scanspace:
       link      A6,#0
       movem.l   D2,-(A7)
@vsscanf_scanspace_1:
       move.l    8(A6),-(A7)
       bsr       @vsscanf_scanread
       addq.w    #4,A7
       move.l    D0,D2
       move.l    12(A6),A0
       addq.l    #1,(A0)
       move.l    D2,A0
       lea       __ctype,A1
       move.b    1(A0,A1.L),D0
       and.b     #16,D0
       bne       @vsscanf_scanspace_1
       move.l    D2,D0
       movem.l   (A7)+,D2
       unlk      A6
       rts
@vsscanf_scanselect:
       link      A6,#0
       movem.l   D2/D3/D4/D5/D6/D7/A2,-(A7)
       move.l    12(A6),D3
       move.l    24(A6),D6
       move.l    20(A6),D7
       move.l    D3,A0
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #94,D0
       bne.s     @vsscanf_scanselect_1
       move.w    #1,A2
       addq.l    #1,D3
       bra.s     @vsscanf_scanselect_2
@vsscanf_scanselect_1:
       move.w    #0,A2
@vsscanf_scanselect_2:
       move.l    16(A6),D0
       subq.l    #1,16(A6)
       tst.l     D0
       beq       @vsscanf_scanselect_5
       move.l    8(A6),-(A7)
       bsr       @vsscanf_scanread
       addq.w    #4,A7
       move.l    D0,D4
       cmp.l     #-1,D4
       bne.s     @vsscanf_scanselect_6
       bra       @vsscanf_scanselect_5
@vsscanf_scanselect_6:
       move.l    28(A6),A0
       addq.l    #1,(A0)
       clr.l     D5
       clr.l     D2
@vsscanf_scanselect_8:
       move.l    D3,A0
       move.b    0(A0,D2.L),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #93,D0
       beq       @vsscanf_scanselect_10
       tst.l     D2
       beq.s     @vsscanf_scanselect_11
       move.l    D3,A0
       move.b    0(A0,D2.L),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #93,D0
       bne.s     @vsscanf_scanselect_11
       bra       @vsscanf_scanselect_10
@vsscanf_scanselect_11:
       tst.l     D2
       beq       @vsscanf_scanselect_15
       move.l    D3,A0
       move.b    0(A0,D2.L),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #45,D0
       bne       @vsscanf_scanselect_15
       move.l    D3,A0
       move.l    D2,D0
       subq.l    #1,D0
       move.l    D3,A1
       move.l    A0,-(A7)
       move.l    D2,A0
       move.b    0(A0,D0.L),D1
       cmp.b     1(A0,A1.L),D1
       bge       @vsscanf_scanselect_15
       move.l    (A7)+,A0
       move.l    D3,A0
       move.l    D2,D0
       subq.l    #1,D0
       move.b    0(A0,D0.L),D0
       ext.w     D0
       ext.l     D0
       cmp.l     D0,D4
       blt.s     @vsscanf_scanselect_17
       move.l    D3,A0
       move.l    D2,A1
       move.b    1(A1,A0.L),D0
       ext.w     D0
       ext.l     D0
       cmp.l     D0,D4
       bgt.s     @vsscanf_scanselect_17
       bra.s     @vsscanf_scanselect_10
@vsscanf_scanselect_17:
       addq.l    #1,D2
       bra.s     @vsscanf_scanselect_19
@vsscanf_scanselect_15:
       move.l    D3,A0
       move.b    0(A0,D2.L),D0
       ext.w     D0
       ext.l     D0
       cmp.l     D0,D4
       bne.s     @vsscanf_scanselect_19
       bra.s     @vsscanf_scanselect_10
@vsscanf_scanselect_19:
       addq.l    #1,D2
       bra       @vsscanf_scanselect_8
@vsscanf_scanselect_10:
       tst.l     D2
       beq.s     @vsscanf_scanselect_23
       move.l    D3,A0
       move.b    0(A0,D2.L),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #93,D0
       beq.s     @vsscanf_scanselect_21
@vsscanf_scanselect_23:
       moveq     #1,D5
@vsscanf_scanselect_21:
       move.l    A2,D0
       beq.s     @vsscanf_scanselect_24
       tst.l     D5
       bne.s     @vsscanf_scanselect_26
       tst.l     D7
       bne.s     @vsscanf_scanselect_28
       move.l    D6,A0
       addq.l    #1,D6
       move.b    D4,(A0)
@vsscanf_scanselect_28:
       bra.s     @vsscanf_scanselect_4
@vsscanf_scanselect_26:
       bra.s     @vsscanf_scanselect_5
@vsscanf_scanselect_24:
       tst.l     D5
       beq.s     @vsscanf_scanselect_30
       tst.l     D7
       bne.s     @vsscanf_scanselect_32
       move.l    D6,A0
       addq.l    #1,D6
       move.b    D4,(A0)
@vsscanf_scanselect_32:
       bra.s     @vsscanf_scanselect_4
@vsscanf_scanselect_30:
       bra.s     @vsscanf_scanselect_5
@vsscanf_scanselect_4:
       bra       @vsscanf_scanselect_2
@vsscanf_scanselect_5:
       cmp.l     #-1,D4
       beq.s     @vsscanf_scanselect_34
       move.l    D4,-(A7)
       move.l    8(A6),-(A7)
       bsr       @vsscanf_scanputback
       addq.w    #8,A7
       move.l    28(A6),A0
       subq.l    #1,(A0)
@vsscanf_scanselect_34:
       tst.l     D7
       bne.s     @vsscanf_scanselect_36
       move.l    D6,A0
       clr.b     (A0)
@vsscanf_scanselect_36:
       addq.l    #1,D3
       move.l    D3,A0
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #93,D0
       beq.s     @vsscanf_scanselect_40
       bra       @vsscanf_scanselect_36
@vsscanf_scanselect_40:
       addq.l    #1,D3
       move.l    D3,D0
       movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2
       unlk      A6
       rts
_scanflush:
       lea       @vsscanf_buf,A0
       move.l    A0,@vsscanf_bufx
       clr.b     @vsscanf_buf
       pea       -1
       bsr       _ungetch
       addq.w    #4,A7
       rts
_vsscanf:
       link      A6,#-120
       movem.l   D2/D3/D4/D5/D6/D7/A2/A3/A4/A5,-(A7)
       lea       @vsscanf_scanread,A3
       tst.l     8(A6)
       beq.s     vsscanf_1
       lea       8(A6),A0
       bra.s     vsscanf_2
vsscanf_1:
       clr.l     D0
       move.l    D0,A0
vsscanf_2:
       move.l    A0,D5
       clr.l     -28(A6)
       clr.l     D4
vsscanf_3:
       move.l    12(A6),A0
       addq.l    #1,12(A6)
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       move.l    D0,D3
       beq       vsscanf_5
       clr.l     D6
       move.w    #0,A4
       cmp.l     #32,D3
       beq.s     vsscanf_8
       cmp.l     #9,D3
       beq.s     vsscanf_8
       cmp.l     #10,D3
       bne       vsscanf_6
vsscanf_8:
       move.l    D5,-(A7)
       jsr       (A3)
       addq.w    #4,A7
       move.l    D0,D2
       addq.l    #1,-28(A6)
       cmp.l     #-1,D2
       bne.s     vsscanf_11
       tst.l     D4
       beq.s     vsscanf_13
       move.l    D4,D0
       bra.s     vsscanf_14
vsscanf_13:
       moveq     #-1,D0
vsscanf_14:
       bra       vsscanf_15
vsscanf_11:
       move.l    D2,A0
       lea       __ctype,A1
       move.b    1(A0,A1.L),D0
       and.b     #16,D0
       bne       vsscanf_8
       subq.l    #1,-28(A6)
       move.l    D2,-(A7)
       move.l    D5,-(A7)
       bsr       @vsscanf_scanputback
       addq.w    #8,A7
       bra       vsscanf_139
vsscanf_6:
       cmp.l     #37,D3
       bne       vsscanf_127
       move.l    12(A6),A0
       addq.l    #1,12(A6)
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       move.l    D0,D3
       clr.l     -20(A6)
       clr.l     D6
       clr.l     -24(A6)
       move.w    #32767,A2
       cmp.l     #42,D3
       bne.s     vsscanf_18
       moveq     #1,D6
       move.l    12(A6),A0
       addq.l    #1,12(A6)
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       move.l    D0,D3
vsscanf_18:
       move.l    D3,A0
       lea       __ctype,A1
       move.b    1(A0,A1.L),D0
       and.b     #4,D0
       beq       vsscanf_24
       move.l    D3,D0
       sub.l     #48,D0
       move.l    D0,A2
vsscanf_22:
       move.l    12(A6),A0
       addq.l    #1,12(A6)
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       move.l    D0,D3
       move.l    D0,A0
       lea       __ctype,A1
       move.b    1(A0,A1.L),D0
       and.l     #255,D0
       and.l     #4,D0
       beq.s     vsscanf_24
       moveq     #-48,D0
       move.l    A2,-(A7)
       pea       10
       bsr       LMUL
       move.l    (A7),D1
       addq.w    #8,A7
       add.l     D3,D1
       add.l     D1,D0
       move.l    D0,A2
       bra       vsscanf_22
vsscanf_24:
       cmp.l     #108,D3
       beq.s     vsscanf_27
       cmp.l     #76,D3
       bne.s     vsscanf_25
vsscanf_27:
       move.l    #1,-24(A6)
       move.l    12(A6),A0
       addq.l    #1,12(A6)
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       move.l    D0,D3
       bra.s     vsscanf_28
vsscanf_25:
       cmp.l     #104,D3
       bne.s     vsscanf_28
       move.l    #1,-20(A6)
       move.l    12(A6),A0
       addq.l    #1,12(A6)
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       move.l    D0,D3
vsscanf_28:
       cmp.l     #91,D3
       bne       vsscanf_30
       tst.l     D6
       bne.s     vsscanf_32
       move.l    16(A6),A0
       addq.l    #4,16(A6)
       move.l    (A0),D7
vsscanf_32:
       pea       -28(A6)
       move.l    D7,-(A7)
       move.l    D6,-(A7)
       move.l    A2,-(A7)
       move.l    12(A6),-(A7)
       move.l    D5,-(A7)
       bsr       @vsscanf_scanselect
       add.w     #24,A7
       move.l    D0,12(A6)
       tst.l     D6
       bne.s     vsscanf_34
       addq.l    #1,D4
vsscanf_34:
       bra       vsscanf_139
vsscanf_30:
       cmp.l     #110,D3
       bne.s     vsscanf_36
       tst.l     D6
       bne.s     vsscanf_38
       move.l    16(A6),A0
       addq.l    #4,16(A6)
       move.l    (A0),D7
       move.l    D7,A0
       move.l    -28(A6),(A0)
       addq.l    #1,D4
vsscanf_38:
       bra       vsscanf_139
vsscanf_36:
       cmp.l     #115,D3
       bne       vsscanf_40
       pea       -28(A6)
       move.l    D5,-(A7)
       bsr       @vsscanf_scanspace
       addq.w    #8,A7
       move.l    D0,D2
       tst.l     D6
       bne.s     vsscanf_42
       move.l    16(A6),A0
       addq.l    #4,16(A6)
       move.l    (A0),D7
vsscanf_42:
       addq.l    #1,-28(A6)
vsscanf_44:
       move.l    A2,D0
       subq.w    #1,A2
       tst.l     D0
       beq       vsscanf_46
       move.l    D2,A0
       lea       __ctype,A1
       move.b    1(A0,A1.L),D0
       and.b     #16,D0
       bne.s     vsscanf_46
       cmp.l     #-1,D2
       beq.s     vsscanf_46
       move.w    #1,A4
       tst.l     D6
       bne.s     vsscanf_47
       move.l    D7,A0
       addq.l    #1,D7
       move.b    D2,(A0)
vsscanf_47:
       move.l    D5,-(A7)
       jsr       (A3)
       addq.w    #4,A7
       move.l    D0,D2
       addq.l    #1,-28(A6)
       bra       vsscanf_44
vsscanf_46:
       tst.l     D6
       bne.s     vsscanf_51
       move.l    D7,A0
       clr.b     (A0)
       move.l    A4,D0
       beq.s     vsscanf_51
       addq.l    #1,D4
vsscanf_51:
       cmp.l     #-1,D2
       beq.s     vsscanf_55
       tst.l     D6
       bne.s     vsscanf_53
       move.l    A4,D0
       bne.s     vsscanf_53
vsscanf_55:
       tst.l     D4
       beq.s     vsscanf_56
       move.l    D4,D0
       bra.s     vsscanf_59
vsscanf_56:
       cmp.l     #-1,D2
       bne.s     vsscanf_58
       moveq     #-1,D0
       bra.s     vsscanf_59
vsscanf_58:
       move.l    D4,D0
vsscanf_59:
       bra       vsscanf_15
vsscanf_53:
       subq.l    #1,-28(A6)
       move.l    D2,-(A7)
       move.l    D5,-(A7)
       bsr       @vsscanf_scanputback
       addq.w    #8,A7
       bra       vsscanf_139
vsscanf_40:
       cmp.l     #99,D3
       bne       vsscanf_60
       tst.l     D6
       bne.s     vsscanf_62
       move.l    16(A6),A0
       addq.l    #4,16(A6)
       move.l    (A0),D7
vsscanf_62:
       move.l    D5,-(A7)
       jsr       (A3)
       addq.w    #4,A7
       move.l    D0,D2
       addq.l    #1,-28(A6)
       move.l    A2,D0
       cmp.l     #32767,D0
       bne.s     vsscanf_64
       move.w    #1,A2
vsscanf_64:
       cmp.l     #-1,D2
       bne.s     vsscanf_66
       tst.l     D6
       bne.s     vsscanf_66
       subq.l    #1,D4
vsscanf_66:
       move.l    A2,D0
       subq.w    #1,A2
       tst.l     D0
       beq.s     vsscanf_70
       cmp.l     #-1,D2
       beq.s     vsscanf_70
       tst.l     D6
       bne.s     vsscanf_71
       move.l    D7,A0
       addq.l    #1,D7
       move.b    D2,(A0)
vsscanf_71:
       move.l    D5,-(A7)
       jsr       (A3)
       addq.w    #4,A7
       move.l    D0,D2
       addq.l    #1,-28(A6)
       bra       vsscanf_66
vsscanf_70:
       cmp.l     #-1,D2
       bne.s     vsscanf_73
       tst.l     D4
       beq.s     vsscanf_75
       move.l    D4,D0
       bra.s     vsscanf_76
vsscanf_75:
       moveq     #-1,D0
vsscanf_76:
       bra       vsscanf_15
vsscanf_73:
       tst.l     D6
       bne.s     vsscanf_77
       addq.l    #1,D4
vsscanf_77:
       subq.l    #1,-28(A6)
       move.l    D2,-(A7)
       move.l    D5,-(A7)
       bsr       @vsscanf_scanputback
       addq.w    #8,A7
       bra       vsscanf_139
vsscanf_60:
       cmp.l     #105,D3
       bne       vsscanf_82
       pea       -28(A6)
       move.l    D5,-(A7)
       bsr       @vsscanf_scanspace
       addq.w    #8,A7
       move.l    D0,D2
       cmp.l     #48,D2
       bne       vsscanf_81
       move.w    #1,A4
       move.l    D5,-(A7)
       jsr       (A3)
       addq.w    #4,A7
       move.l    D0,D2
       move.l    D2,-(A7)
       bsr       _tolower
       addq.w    #4,A7
       cmp.l     #120,D0
       bne.s     vsscanf_83
       moveq     #120,D3
       bra.s     vsscanf_84
vsscanf_83:
       subq.l    #1,-28(A6)
       move.l    D2,-(A7)
       move.l    D5,-(A7)
       bsr       @vsscanf_scanputback
       addq.w    #8,A7
       moveq     #111,D3
vsscanf_84:
       addq.l    #1,-28(A6)
       bra.s     vsscanf_82
vsscanf_81:
       subq.l    #1,-28(A6)
       move.l    D2,-(A7)
       move.l    D5,-(A7)
       bsr       @vsscanf_scanputback
       addq.w    #8,A7
       moveq     #100,D3
vsscanf_82:
       cmp.l     #100,D3
       beq.s     vsscanf_87
       cmp.l     #117,D3
       beq.s     vsscanf_87
       cmp.l     #120,D3
       beq.s     vsscanf_87
       cmp.l     #111,D3
       bne       vsscanf_85
vsscanf_87:
       pea       -28(A6)
       move.l    D5,-(A7)
       bsr       @vsscanf_scanspace
       addq.w    #8,A7
       move.l    D0,D2
       move.l    #10,-4(A6)
       cmp.l     #120,D3
       bne.s     vsscanf_88
       move.l    #16,-4(A6)
vsscanf_88:
       cmp.l     #111,D3
       bne.s     vsscanf_90
       move.l    #8,-4(A6)
vsscanf_90:
       tst.l     D6
       bne.s     vsscanf_92
       move.l    16(A6),A0
       addq.l    #4,16(A6)
       move.l    (A0),D7
vsscanf_92:
       clr.l     -32(A6)
       addq.l    #1,-28(A6)
       cmp.l     #117,D3
       beq.s     vsscanf_94
       cmp.l     #45,D2
       bne.s     vsscanf_94
       move.l    D5,-(A7)
       jsr       (A3)
       addq.w    #4,A7
       move.l    D0,D2
       addq.l    #1,-28(A6)
       move.l    #1,-32(A6)
       move.w    #1,A4
vsscanf_94:
       move.w    #0,A5
       cmp.l     #-1,D2
       bne.s     vsscanf_96
       tst.l     D4
       beq.s     vsscanf_98
       move.l    D4,D0
       bra.s     vsscanf_99
vsscanf_98:
       moveq     #-1,D0
vsscanf_99:
       bra       vsscanf_15
vsscanf_96:
       move.l    A2,D0
       subq.w    #1,A2
       tst.l     D0
       beq       vsscanf_102
       cmp.l     #120,D3
       bne.s     vsscanf_104
       move.l    D2,-(A7)
       bsr       _toupper
       addq.w    #4,A7
       cmp.l     #65,D0
       blt.s     vsscanf_104
       move.l    D2,-(A7)
       bsr       _toupper
       addq.w    #4,A7
       cmp.l     #70,D0
       ble.s     vsscanf_103
vsscanf_104:
       move.l    D2,A0
       lea       __ctype,A1
       move.b    1(A0,A1.L),D0
       and.b     #4,D0
       beq       vsscanf_102
vsscanf_103:
       move.l    D2,A0
       lea       __ctype,A1
       move.b    1(A0,A1.L),D0
       and.b     #4,D0
       bne.s     vsscanf_105
       moveq     #-7,D0
       move.l    D0,-(A7)
       move.l    D2,-(A7)
       bsr       _toupper
       addq.w    #4,A7
       move.l    D0,D1
       move.l    (A7)+,D0
       add.l     D1,D0
       move.l    D0,D2
vsscanf_105:
       move.l    A5,-(A7)
       move.l    -4(A6),-(A7)
       bsr       LMUL
       move.l    (A7),D0
       addq.w    #8,A7
       add.l     D2,D0
       sub.l     #48,D0
       move.l    D0,A5
       move.l    D5,-(A7)
       jsr       (A3)
       addq.w    #4,A7
       move.l    D0,D2
       addq.l    #1,-28(A6)
       move.w    #1,A4
       bra       vsscanf_96
vsscanf_102:
       cmp.l     #-1,D2
       beq.s     vsscanf_107
       move.l    D2,-(A7)
       move.l    D5,-(A7)
       bsr       @vsscanf_scanputback
       addq.w    #8,A7
       subq.l    #1,-28(A6)
       move.l    A4,D0
       bne.s     vsscanf_109
       move.l    D4,D0
       bra       vsscanf_15
vsscanf_109:
       bra.s     vsscanf_111
vsscanf_107:
       move.l    A4,D0
       bne.s     vsscanf_111
       tst.l     D4
       beq.s     vsscanf_113
       move.l    D4,D0
       bra.s     vsscanf_114
vsscanf_113:
       moveq     #-1,D0
vsscanf_114:
       bra       vsscanf_15
vsscanf_111:
       tst.l     -32(A6)
       beq.s     vsscanf_115
       move.l    A5,D0
       neg.l     D0
       move.l    D0,A5
vsscanf_115:
       tst.l     D6
       bne.s     vsscanf_117
       tst.l     -24(A6)
       beq.s     vsscanf_119
       move.l    D7,A0
       move.l    A5,(A0)
       bra.s     vsscanf_122
vsscanf_119:
       tst.l     -20(A6)
       beq.s     vsscanf_121
       move.l    D7,A0
       move.w    A5,(A0)
       bra.s     vsscanf_122
vsscanf_121:
       move.l    D7,A0
       move.l    A5,(A0)
vsscanf_122:
       addq.l    #1,D4
vsscanf_117:
       cmp.l     #-1,D2
       bne.s     vsscanf_123
       tst.l     D4
       beq.s     vsscanf_125
       move.l    D4,D0
       bra.s     vsscanf_126
vsscanf_125:
       moveq     #-1,D0
vsscanf_126:
       bra       vsscanf_15
vsscanf_123:
       bra       vsscanf_139
vsscanf_85:
       cmp.l     #37,D3
       bne       vsscanf_127
       move.l    D5,-(A7)
       jsr       (A3)
       addq.w    #4,A7
       move.l    D0,D2
       cmp.l     #-1,D2
       bne.s     vsscanf_129
       tst.l     D4
       beq.s     vsscanf_131
       move.l    D4,D0
       bra.s     vsscanf_132
vsscanf_131:
       moveq     #-1,D0
vsscanf_132:
       bra       vsscanf_15
vsscanf_129:
       addq.l    #1,-28(A6)
       cmp.l     D3,D2
       beq.s     vsscanf_133
       move.l    D2,-(A7)
       move.l    D5,-(A7)
       bsr       @vsscanf_scanputback
       addq.w    #8,A7
       subq.l    #1,-28(A6)
       move.l    D4,D0
       bra       vsscanf_15
vsscanf_133:
       bra       vsscanf_139
vsscanf_127:
       move.l    D5,-(A7)
       jsr       (A3)
       addq.w    #4,A7
       move.l    D0,D2
       addq.l    #1,-28(A6)
       cmp.l     #-1,D2
       bne.s     vsscanf_135
       tst.l     D4
       beq.s     vsscanf_137
       move.l    D4,D0
       bra.s     vsscanf_138
vsscanf_137:
       moveq     #-1,D0
vsscanf_138:
       bra.s     vsscanf_15
vsscanf_135:
       cmp.l     D3,D2
       beq.s     vsscanf_139
       move.l    D2,-(A7)
       move.l    D5,-(A7)
       bsr       @vsscanf_scanputback
       addq.w    #8,A7
       subq.l    #1,-28(A6)
       move.l    D4,D0
       bra.s     vsscanf_15
vsscanf_139:
       bra       vsscanf_3
vsscanf_5:
       move.l    D4,D0
vsscanf_15:
       movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2/A3/A4/A5
       unlk      A6
       rts
@vsprintf_copy:
       link      A6,#0
       move.l    8(A6),A0
       tst.l     (A0)
       beq.s     @vsprintf_copy_1
       move.l    12(A6),D0
       move.l    8(A6),A0
       move.l    (A0),A1
       addq.l    #1,(A0)
       move.b    D0,(A1)
       bra.s     @vsprintf_copy_2
@vsprintf_copy_1:
       move.l    12(A6),-(A7)
       bsr       _putch
       addq.w    #4,A7
@vsprintf_copy_2:
       unlk      A6
       rts
@vsprintf_getval:
       link      A6,#0
       movem.l   D2/D3,-(A7)
       move.l    8(A6),D2
       clr.l     D3
       move.l    D2,A0
       move.l    (A0),A0
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #42,D0
       bne.s     @vsprintf_getval_1
       move.l    12(A6),A0
       move.l    (A0),A1
       addq.l    #4,(A0)
       move.l    (A1),D3
       move.l    D2,A0
       addq.l    #1,(A0)
       bra       @vsprintf_getval_5
@vsprintf_getval_1:
       move.l    D2,A0
       move.l    (A0),A0
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #48,D0
       blt       @vsprintf_getval_5
       move.l    D2,A0
       move.l    (A0),A0
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #57,D0
       bgt.s     @vsprintf_getval_5
       move.l    D3,-(A7)
       pea       10
       bsr       LMUL
       move.l    (A7),D0
       addq.w    #8,A7
       move.l    D2,A0
       move.l    (A0),A1
       addq.l    #1,(A0)
       move.b    (A1),D1
       ext.w     D1
       ext.l     D1
       add.l     D1,D0
       sub.l     #48,D0
       move.l    D0,D3
       bra       @vsprintf_getval_1
@vsprintf_getval_5:
       move.l    D3,D0
       movem.l   (A7)+,D2/D3
       unlk      A6
       rts
_vsprintf:
       link      A6,#-52
       movem.l   D2/D3/D4/D5/D6/D7/A2/A3/A4/A5,-(A7)
       lea       8(A6),A2
       lea       @vsprintf_copy,A3
       lea       _ultoa,A4
       clr.l     D6
vsprintf_1:
       move.l    12(A6),A0
       tst.b     (A0)
       beq       vsprintf_3
       move.l    12(A6),A0
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #37,D0
       beq.s     vsprintf_4
       move.l    12(A6),A0
       addq.l    #1,12(A6)
       move.b    (A0),D1
       ext.w     D1
       ext.l     D1
       move.l    D1,-(A7)
       move.l    A2,-(A7)
       jsr       (A3)
       addq.w    #8,A7
       addq.l    #1,D6
       bra       vsprintf_2
vsprintf_4:
       addq.l    #1,12(A6)
       clr.b     -45(A6)
       clr.b     -46(A6)
       clr.b     -48(A6)
       clr.b     -49(A6)
       clr.b     -50(A6)
       clr.b     -51(A6)
       clr.l     -4(A6)
       moveq     #-1,D5
       lea       -36(A6),A0
       move.l    A0,D3
       move.l    A0,D2
vsprintf_6:
       move.l    12(A6),A0
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #43,D0
       beq.s     vsprintf_12
       bgt.s     vsprintf_15
       cmp.l     #35,D0
       beq       vsprintf_14
       bgt       vsprintf_9
       cmp.l     #32,D0
       beq.s     vsprintf_13
       bra.s     vsprintf_9
vsprintf_15:
       cmp.l     #45,D0
       beq.s     vsprintf_11
       bra.s     vsprintf_9
vsprintf_11:
       move.b    #1,-51(A6)
       addq.l    #1,12(A6)
       bra.s     vsprintf_7
vsprintf_12:
       move.b    #1,-50(A6)
       addq.l    #1,12(A6)
       bra.s     vsprintf_7
vsprintf_13:
       move.b    #1,-49(A6)
       addq.l    #1,12(A6)
       bra.s     vsprintf_7
vsprintf_14:
       move.b    #1,-48(A6)
       addq.l    #1,12(A6)
       bra.s     vsprintf_7
vsprintf_9:
       bra.s     vsprintf_8
vsprintf_7:
       bra       vsprintf_6
vsprintf_8:
       move.l    12(A6),A0
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #48,D0
       bne.s     vsprintf_16
       addq.l    #1,12(A6)
       move.b    #1,-46(A6)
vsprintf_16:
       pea       16(A6)
       pea       12(A6)
       bsr       @vsprintf_getval
       addq.w    #8,A7
       move.l    D0,A5
       move.l    12(A6),A0
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #46,D0
       bne.s     vsprintf_18
       addq.l    #1,12(A6)
       pea       16(A6)
       pea       12(A6)
       bsr       @vsprintf_getval
       addq.w    #8,A7
       move.l    D0,D5
vsprintf_18:
       move.l    12(A6),A0
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #108,D0
       bne.s     vsprintf_20
       addq.l    #1,12(A6)
       move.b    #1,-45(A6)
vsprintf_20:
       move.l    12(A6),A0
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #111,D0
       beq       vsprintf_27
       bgt.s     vsprintf_33
       cmp.l     #100,D0
       beq       vsprintf_24
       bgt.s     vsprintf_34
       cmp.l     #99,D0
       beq       vsprintf_30
       bgt       vsprintf_22
       cmp.l     #88,D0
       beq       vsprintf_28
       bra       vsprintf_22
vsprintf_34:
       cmp.l     #105,D0
       beq.s     vsprintf_24
       bra       vsprintf_22
vsprintf_33:
       cmp.l     #117,D0
       beq       vsprintf_26
       bgt.s     vsprintf_35
       cmp.l     #115,D0
       beq       vsprintf_31
       bra       vsprintf_22
vsprintf_35:
       cmp.l     #120,D0
       beq       vsprintf_28
       bra       vsprintf_22
vsprintf_24:
       tst.b     -45(A6)
       beq.s     vsprintf_36
       pea       10
       move.l    D3,-(A7)
       move.l    16(A6),A0
       addq.l    #4,16(A6)
       move.l    (A0),-(A7)
       bsr       _ltoa
       add.w     #12,A7
       bra.s     vsprintf_37
vsprintf_36:
       pea       10
       move.l    D3,-(A7)
       move.l    16(A6),A0
       addq.l    #4,16(A6)
       move.l    (A0),-(A7)
       bsr       _ltoa
       add.w     #12,A7
vsprintf_37:
       bra       vsprintf_23
vsprintf_26:
       tst.b     -45(A6)
       beq.s     vsprintf_38
       pea       10
       move.l    D3,-(A7)
       move.l    16(A6),A0
       addq.l    #4,16(A6)
       move.l    (A0),-(A7)
       jsr       (A4)
       add.w     #12,A7
       bra.s     vsprintf_39
vsprintf_38:
       pea       10
       move.l    D3,-(A7)
       move.l    16(A6),A0
       addq.l    #4,16(A6)
       move.l    (A0),-(A7)
       jsr       (A4)
       add.w     #12,A7
vsprintf_39:
       bra       vsprintf_23
vsprintf_27:
       tst.b     -45(A6)
       beq.s     vsprintf_40
       pea       8
       move.l    D3,-(A7)
       move.l    16(A6),A0
       addq.l    #4,16(A6)
       move.l    (A0),-(A7)
       jsr       (A4)
       add.w     #12,A7
       bra.s     vsprintf_41
vsprintf_40:
       pea       8
       move.l    D3,-(A7)
       move.l    16(A6),A0
       addq.l    #4,16(A6)
       move.l    (A0),-(A7)
       jsr       (A4)
       add.w     #12,A7
vsprintf_41:
       bra       vsprintf_23
vsprintf_28:
       tst.b     -45(A6)
       beq.s     vsprintf_42
       pea       16
       move.l    D3,-(A7)
       move.l    16(A6),A0
       addq.l    #4,16(A6)
       move.l    (A0),-(A7)
       jsr       (A4)
       add.w     #12,A7
       bra.s     vsprintf_43
vsprintf_42:
       pea       16
       move.l    D3,-(A7)
       move.l    16(A6),A0
       addq.l    #4,16(A6)
       move.l    (A0),-(A7)
       jsr       (A4)
       add.w     #12,A7
vsprintf_43:
       bra       vsprintf_23
vsprintf_30:
       move.l    16(A6),A0
       addq.l    #4,16(A6)
       move.l    (A0),D0
       move.l    D2,A0
       addq.l    #1,D2
       move.b    D0,(A0)
       move.l    D2,A0
       clr.b     (A0)
       move.l    A5,D0
       beq.s     vsprintf_44
       move.l    A5,D0
       bra.s     vsprintf_45
vsprintf_44:
       moveq     #1,D0
vsprintf_45:
       move.l    D0,D5
       bra       vsprintf_23
vsprintf_31:
       move.l    16(A6),A0
       addq.l    #4,16(A6)
       move.l    (A0),D3
       cmp.l     #-1,D5
       bne.s     vsprintf_46
       move.l    D3,-(A7)
       bsr       _strlen
       addq.w    #4,A7
       move.l    D0,D5
vsprintf_46:
       bra.s     vsprintf_23
vsprintf_22:
       move.l    12(A6),A0
       move.l    D2,A1
       addq.l    #1,D2
       move.b    (A0),(A1)
       move.l    D2,A0
       clr.b     (A0)
vsprintf_23:
       move.l    D3,-(A7)
       bsr       _strlen
       addq.w    #4,A7
       move.b    D0,D4
       move.l    12(A6),A0
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #115,D0
       bne.s     vsprintf_48
       cmp.l     #0,D5
       blt.s     vsprintf_48
       ext.w     D4
       ext.l     D4
       cmp.l     D5,D4
       ble.s     vsprintf_50
       move.b    D5,D0
       bra.s     vsprintf_51
vsprintf_50:
       move.b    D4,D0
vsprintf_51:
       move.b    D0,D4
vsprintf_48:
       move.l    12(A6),A0
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #88,D0
       bne       vsprintf_56
       lea       -36(A6),A0
       move.l    A0,D2
vsprintf_54:
       move.l    D2,A0
       tst.b     (A0)
       beq.s     vsprintf_56
       move.l    D2,A0
       move.b    (A0),D1
       ext.w     D1
       ext.l     D1
       move.l    D1,-(A7)
       bsr       _toupper
       addq.w    #4,A7
       move.l    D2,A0
       move.b    D0,(A0)
       addq.l    #1,D2
       bra       vsprintf_54
vsprintf_56:
       moveq     #0,D7
       lea       -44(A6),A0
       move.l    A0,D2
       move.l    12(A6),A0
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #100,D0
       beq.s     vsprintf_59
       move.l    12(A6),A0
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #105,D0
       bne       vsprintf_65
vsprintf_59:
       tst.b     -50(A6)
       bne.s     vsprintf_62
       move.l    D3,A0
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #45,D0
       bne       vsprintf_60
vsprintf_62:
       move.l    D3,A0
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #45,D0
       bne.s     vsprintf_63
       move.l    D3,A0
       addq.l    #1,D3
       move.l    D2,A1
       addq.l    #1,D2
       move.b    (A0),(A1)
       subq.b    #1,D4
       bra.s     vsprintf_64
vsprintf_63:
       move.l    D2,A0
       addq.l    #1,D2
       move.b    #43,(A0)
vsprintf_64:
       addq.l    #1,D7
       bra       vsprintf_65
vsprintf_60:
       tst.b     -49(A6)
       beq       vsprintf_65
       move.l    D3,A0
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #45,D0
       bne.s     vsprintf_67
       move.l    D3,A0
       addq.l    #1,D3
       move.l    D2,A1
       addq.l    #1,D2
       move.b    (A0),(A1)
       subq.b    #1,D4
       bra.s     vsprintf_68
vsprintf_67:
       move.l    D2,A0
       addq.l    #1,D2
       move.b    #32,(A0)
vsprintf_68:
       addq.l    #1,D7
vsprintf_65:
       tst.b     -48(A6)
       beq       vsprintf_77
       move.l    12(A6),A0
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #111,D0
       beq.s     vsprintf_73
       bgt.s     vsprintf_76
       cmp.l     #88,D0
       beq.s     vsprintf_73
       bra       vsprintf_77
vsprintf_76:
       cmp.l     #120,D0
       beq.s     vsprintf_73
       bra       vsprintf_77
vsprintf_73:
       move.l    D2,A0
       addq.l    #1,D2
       move.b    #48,(A0)
       addq.l    #1,D7
       move.l    12(A6),A0
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #120,D0
       beq.s     vsprintf_79
       move.l    12(A6),A0
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #88,D0
       bne.s     vsprintf_77
vsprintf_79:
       move.l    D2,A0
       addq.l    #1,D2
       move.b    #120,(A0)
       addq.l    #1,D7
vsprintf_77:
       move.l    D2,A0
       clr.b     (A0)
       move.l    12(A6),A0
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #105,D0
       beq       vsprintf_82
       bgt.s     vsprintf_93
       cmp.l     #99,D0
       beq       vsprintf_96
       bgt.s     vsprintf_94
       cmp.l     #88,D0
       beq       vsprintf_82
       bgt       vsprintf_80
       cmp.l     #69,D0
       beq       vsprintf_82
       bra       vsprintf_80
vsprintf_94:
       cmp.l     #101,D0
       beq       vsprintf_82
       bgt       vsprintf_80
       cmp.l     #100,D0
       beq.s     vsprintf_82
       bra       vsprintf_80
vsprintf_93:
       cmp.l     #117,D0
       beq.s     vsprintf_82
       bgt.s     vsprintf_95
       cmp.l     #115,D0
       beq       vsprintf_96
       bgt       vsprintf_80
       cmp.l     #111,D0
       beq.s     vsprintf_82
       bra       vsprintf_80
vsprintf_95:
       cmp.l     #120,D0
       beq.s     vsprintf_82
       bra       vsprintf_80
vsprintf_82:
       tst.b     -46(A6)
       beq.s     vsprintf_96
       tst.b     -51(A6)
       bne.s     vsprintf_96
       move.l    A5,D0
       sub.l     D7,D0
       ext.w     D4
       ext.l     D4
       sub.l     D4,D0
       move.l    D0,-4(A6)
vsprintf_96:
       move.l    -4(A6),D0
       cmp.l     #0,D0
       bge.s     vsprintf_98
       clr.l     -4(A6)
vsprintf_98:
       tst.b     -51(A6)
       bne       vsprintf_104
       ext.w     D4
       ext.l     D4
       move.l    D4,D0
       add.l     -4(A6),D0
       add.l     D7,D0
       move.b    D0,-47(A6)
vsprintf_102:
       move.b    -47(A6),D0
       ext.w     D0
       ext.l     D0
       move.l    A5,D1
       subq.w    #1,A5
       cmp.l     D1,D0
       bge.s     vsprintf_104
       pea       32
       move.l    A2,-(A7)
       jsr       (A3)
       addq.w    #8,A7
       addq.l    #1,D6
       bra       vsprintf_102
vsprintf_104:
       lea       -44(A6),A0
       move.l    A0,D2
vsprintf_105:
       move.l    D2,A0
       tst.b     (A0)
       beq.s     vsprintf_107
       move.l    D2,A0
       addq.l    #1,D2
       move.b    (A0),D1
       ext.w     D1
       ext.l     D1
       move.l    D1,-(A7)
       move.l    A2,-(A7)
       jsr       (A3)
       addq.w    #8,A7
       addq.l    #1,D6
       bra       vsprintf_105
vsprintf_107:
       move.l    -4(A6),D0
       move.b    D0,-47(A6)
vsprintf_108:
       move.b    -47(A6),D0
       subq.b    #1,-47(A6)
       tst.b     D0
       beq.s     vsprintf_110
       pea       48
       move.l    A2,-(A7)
       jsr       (A3)
       addq.w    #8,A7
       addq.l    #1,D6
       bra       vsprintf_108
vsprintf_110:
       move.l    D3,A0
       tst.b     (A0)
       beq       vsprintf_113
       move.l    12(A6),A0
       move.b    (A0),D0
       ext.w     D0
       ext.l     D0
       cmp.l     #115,D0
       beq.s     vsprintf_116
       bgt.s     vsprintf_119
       cmp.l     #99,D0
       beq.s     vsprintf_116
       bra.s     vsprintf_119
vsprintf_116:
       move.l    D5,D0
       subq.l    #1,D5
       cmp.l     #0,D0
       bgt.s     vsprintf_119
       bra.s     vsprintf_115
vsprintf_119:
       move.l    D3,A0
       addq.l    #1,D3
       move.b    (A0),D1
       ext.w     D1
       ext.l     D1
       move.l    D1,-(A7)
       move.l    A2,-(A7)
       jsr       (A3)
       addq.w    #8,A7
       addq.l    #1,D6
       bra.s     vsprintf_112
vsprintf_115:
       bra.s     vsprintf_113
vsprintf_112:
       bra       vsprintf_110
vsprintf_113:
       tst.b     -51(A6)
       beq       vsprintf_125
       ext.w     D4
       ext.l     D4
       move.l    D4,D0
       add.l     -4(A6),D0
       add.l     D7,D0
       move.b    D0,-47(A6)
vsprintf_123:
       move.b    -47(A6),D0
       ext.w     D0
       ext.l     D0
       move.l    A5,D1
       subq.w    #1,A5
       cmp.l     D1,D0
       bge.s     vsprintf_125
       pea       32
       move.l    A2,-(A7)
       jsr       (A3)
       addq.w    #8,A7
       subq.l    #1,D6
       bra       vsprintf_123
vsprintf_125:
       bra.s     vsprintf_81
vsprintf_80:
       move.l    12(A6),A0
       move.b    (A0),D1
       ext.w     D1
       ext.l     D1
       move.l    D1,-(A7)
       move.l    A2,-(A7)
       jsr       (A3)
       addq.w    #8,A7
       addq.l    #1,D6
vsprintf_81:
       addq.l    #1,12(A6)
vsprintf_2:
       bra       vsprintf_1
vsprintf_3:
       tst.l     (A2)
       beq.s     vsprintf_126
       clr.b     D1
       and.l     #255,D1
       move.l    D1,-(A7)
       move.l    A2,-(A7)
       jsr       (A3)
       addq.w    #8,A7
vsprintf_126:
       move.l    D6,D0
       movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2/A3/A4/A5
       unlk      A6
       rts
ULMUL:
       link    A6,#0
       movem.l D0/D1,-(A7)
       move.l  8(A6),D1
       move.l  12(A6),D0
       bra.s   lmul_3
LMUL:
       link    A6,#0
       movem.l D0/D1,-(A7)
       move.l  8(A6),D1
       move.l  12(A6),D0
       tst.l   D0
       bpl.s   lmul_1
       neg.l   D0
       tst.l   D1
       bpl.s   lmul_2
       neg.l   D1
       bra.s   lmul_3
lmul_1:
       tst.l   D1
       bpl.s   lmul_3
       neg.l   D1
lmul_2:
       bsr.s   domul
       neg.l   D1
       negx.l  D0
       bra.s   lmul_4
lmul_3:
       bsr.s   domul
lmul_4:
       move.l  D1,8(A6)
       movem.l (A7)+,D0/D1
       unlk    A6
       rts
domul:
       cmpi.l  #$FFFF,D1
       bhi.s   domul_1
       cmpi.l  #$FFFF,D0
       bhi.s   domul_2
       mulu    D0,D1
       rts
domul_1:
       cmpi.l  #$FFFF,D0
       bhi.s   domul_4
       bra.s   domul_3
domul_2
       exg     D0,D1
domul_3:
       move.l  D2,-(A7)
       move.l  D1,D2
       swap    D2
       mulu    D0,D1
       mulu    D0,D2
       swap    D2
       clr.w   D2
       add.l   D2,D1
       move.l  (A7)+,D2
       rts
domul_4:
       movem.l D2/D3,-(A7)
       move.l  D1,D2
       move.l  D1,D3
       mulu    D0,D1
       swap    D2
       mulu    D0,D2
       swap    D0
       mulu    D0,D3
       add.l   D3,D2
       swap    D2
       clr.w   D2
       add.l   D2,D1
       movem.l (A7)+,D2/D3
       rts
_gets:
       link      A6,#0
       movem.l   D2/D3/D4/A2,-(A7)
       lea       _putch,A2
       move.l    8(A6),D4
       move.l    D4,D2
gets_1:
       bsr       _getch
       move.l    D0,D3
       cmp.l     #10,D0
       beq       gets_3
       cmp.l     #8,D3
       beq.s     gets_4
       move.l    D2,A0
       addq.l    #1,D2
       move.b    D3,(A0)
       ext.w     D3
       ext.l     D3
       move.l    D3,-(A7)
       jsr       (A2)
       addq.w    #4,A7
       bra.s     gets_6
gets_4:
       cmp.l     D4,D2
       bls.s     gets_6
       pea       8
       jsr       (A2)
       addq.w    #4,A7
       pea       32
       jsr       (A2)
       addq.w    #4,A7
       pea       8
       jsr       (A2)
       addq.w    #4,A7
       subq.l    #1,D2
gets_6:
       bra       gets_1
gets_3:
       pea       10
       jsr       (A2)
       addq.w    #4,A7
       move.l    D2,A0
       clr.b     (A0)
       move.l    D4,D0
       movem.l   (A7)+,D2/D3/D4/A2
       unlk      A6
       rts
_tolower:
       link      A6,#0
       movem.l   D2,-(A7)
       move.l    8(A6),D2
       cmp.l     #65,D2
       blt.s     tolower_1
       cmp.l     #90,D2
       bgt.s     tolower_1
       or.l      #32,D2
tolower_1:
       move.l    D2,D0
       movem.l   (A7)+,D2
       unlk      A6
       rts
_strcat:
       move.l    (4,A7),A0	
       move.l    (8,A7),A1	
       move.l    A0,D0		
strcat_0:
       tst.b     (A0)+
       bne       strcat_0
       subq      #1,A0
strcat_1:
       move.b    (A1)+,(A0)+
       bne       strcat_1
       rts
_toupper:
       link      A6,#0
       movem.l   D2,-(A7)
       move.l    8(A6),D2
       cmp.l     #97,D2
       blt.s     toupper_1
       cmp.l     #122,D2
       bgt.s     toupper_1
       and.l     #95,D2
toupper_1:
       move.l    D2,D0
       movem.l   (A7)+,D2
       unlk      A6
       rts
_ungetch:
       link      A6,#0
       move.l    8(A6),__ungetbuf
       move.l    8(A6),D0
       unlk      A6
       rts
@itoa_convert:
       link      A6,#0
       movem.l   D2/D3/D4/D5,-(A7)
       move.l    8(A6),D2
       move.l    16(A6),D3
       move.l    12(A6),D5
       move.l    D5,-(A7)
       move.l    D3,-(A7)
       bsr       ULDIV
       move.l    4(A7),D0
       addq.w    #8,A7
       move.l    D0,D4
       cmp.l     D3,D5
       blo.s     @itoa_convert_1
       move.l    D3,-(A7)
       move.l    D5,-(A7)
       move.l    D3,-(A7)
       bsr       ULDIV
       move.l    (A7),D1
       addq.w    #8,A7
       move.l    D1,-(A7)
       move.l    D2,-(A7)
       bsr       @itoa_convert
       add.w     #12,A7
       move.l    D0,D2
@itoa_convert_1:
       cmp.l     #9,D4
       bgt.s     @itoa_convert_3
       move.l    D4,D0
       add.l     #48,D0
       bra.s     @itoa_convert_4
@itoa_convert_3:
       move.l    D4,D0
       add.l     #97,D0
       sub.l     #10,D0
@itoa_convert_4:
       move.l    D2,A0
       move.b    D0,(A0)
       move.l    D2,D0
       addq.l    #1,D0
       movem.l   (A7)+,D2/D3/D4/D5
       unlk      A6
       rts
_ltoa:
       link      A6,#0
       movem.l   D2/D3/D4/D5,-(A7)
       move.l    8(A6),D2
       move.l    12(A6),D3
       move.l    16(A6),D5
       move.l    D3,D4
       cmp.l     #2,D5
       blt.s     ltoa_3
       cmp.l     #36,D5
       ble.s     ltoa_1
ltoa_3:
       move.l    D3,D0
       bra       ltoa_4
ltoa_1:
       cmp.l     #10,D5
       bne       ltoa_5
       cmp.l     #0,D2
       bge.s     ltoa_5
       move.l    D2,D0
       neg.l     D0
       move.l    D0,D2
       cmp.l     #0,D2
       bge.s     ltoa_7
       pea       @itoa_1
       move.l    D3,-(A7)
       bsr       _strcpy
       addq.w    #8,A7
       move.l    D3,D0
       bra.s     ltoa_4
ltoa_7:
       move.l    D4,A0
       addq.l    #1,D4
       move.b    #45,(A0)
ltoa_5:
       move.l    D5,-(A7)
       move.l    D2,-(A7)
       move.l    D4,-(A7)
       bsr       @itoa_convert
       add.w     #12,A7
       move.l    D0,D4
       move.l    D4,A0
       clr.b     (A0)
       move.l    D3,D0
ltoa_4:
       movem.l   (A7)+,D2/D3/D4/D5
       unlk      A6
       rts
_ultoa:
       link      A6,#0
       movem.l   D2/D3/D4,-(A7)
       move.l    16(A6),D3
       move.l    12(A6),D4
       move.l    D4,D2
       cmp.l     #2,D3
       blt.s     ultoa_3
       cmp.l     #36,D3
       ble.s     ultoa_1
ultoa_3:
       move.l    D4,D0
       bra.s     ultoa_4
ultoa_1:
       move.l    D3,-(A7)
       move.l    8(A6),-(A7)
       move.l    D2,-(A7)
       bsr       @itoa_convert
       add.w     #12,A7
       move.l    D0,D2
       move.l    D2,A0
       clr.b     (A0)
       move.l    D4,D0
ultoa_4:
       movem.l   (A7)+,D2/D3/D4
       unlk      A6
       rts
_itoa:
       link      A6,#0
       move.l    16(A6),-(A7)
       move.l    12(A6),-(A7)
       move.l    8(A6),-(A7)
       bsr       _ltoa
       add.w     #12,A7
       unlk      A6
       rts
_strlen:
       move.l    (4,A7),A0
       move.l    A0,A1
strlen_1:
       tst.b     (A1)+
       bne       strlen_1
       move.l    A1,D0
       sub.l     A0,D0
       subq.l    #1,D0
       rts
_putch:
       link      A6,#0
       movem.l   D2,-(A7)
       move.l    8(A6),D2
       cmp.l     #10,D2
       bne.s     putch_1
       pea       13
       bsr       __putch
       addq.w    #4,A7
putch_1:
       move.l    D2,-(A7)
       bsr       __putch
       addq.w    #4,A7
       move.l    D2,D0
       movem.l   (A7)+,D2
       unlk      A6
       rts
_getch:
       movem.l   D2,-(A7)
       move.l    __ungetbuf,D2
       move.l    __ungetbuf,D0
       cmp.l     #-1,D0
       beq.s     getch_1
       move.l    #-1,__ungetbuf
       bra.s     getch_3
getch_1:
       bsr       __getch
       move.l    D0,D2
       cmp.l     #13,D0
       bne.s     getch_3
       moveq     #10,D2
getch_3:
       move.l    D2,D0
       movem.l   (A7)+,D2
       rts
_strcpy:
       move.l    (4,A7),A0
       move.l    (8,A7),A1
       move.l    A0,D0
strcpy_1:
       move.b    (A1)+,(A0)+
       bne       strcpy_1
       rts
       section   const
                align


@m68kus~1_1:
       dc.b      13,10,69,110,116,101,114,32,52,32,98,121,116
       dc.b      101,115,32,111,102,32,72,101,120,105,100,101
       dc.b      99,105,109,97,108,32,116,101,115,116,32,100
       dc.b      97,116,97,46,0
@m68kus~1_2:
       dc.b      13,10,69,110,116,101,114,32,70,105,114,115,116
       dc.b      32,98,121,116,101,58,32,0
@m68kus~1_3:
       dc.b      37,120,0
@m68kus~1_4:
       dc.b      69,110,116,101,114,32,83,101,99,111,110,100
       dc.b      32,98,121,116,101,58,32,0
@m68kus~1_5:
       dc.b      69,110,116,101,114,32,84,104,105,114,100,32
       dc.b      98,121,116,101,58,32,0
@m68kus~1_6:
       dc.b      69,110,116,101,114,32,70,111,117,114,116,104
       dc.b      32,98,121,116,101,58,32,0
@m68kus~1_7:
       dc.b      86,97,108,105,100,32,97,100,100,114,101,115
       dc.b      115,101,115,32,102,111,114,32,116,104,105,115
       dc.b      32,112,114,111,103,114,97,109,32,97,114,101
       dc.b      58,32,36,48,57,48,48,32,48,48,48,48,32,32,45
       dc.b      32,36,48,57,55,70,32,70,70,70,70,0
@m68kus~1_8:
       dc.b      13,10,69,110,116,101,114,32,83,116,97,114,116
       dc.b      32,65,100,100,114,101,115,115,58,32,0
@m68kus~1_9:
       dc.b      69,110,116,101,114,32,69,110,100,32,65,100,100
       dc.b      114,101,115,115,58,32,0
@m68kus~1_10:
       dc.b      69,82,82,79,82,46,32,80,108,101,97,115,101,32
       dc.b      69,110,116,101,114,32,97,32,118,97,108,105,100
       dc.b      32,83,116,97,114,116,32,65,100,100,114,101,115
       dc.b      115,58,32,0
@m68kus~1_11:
       dc.b      13,10,69,82,82,79,82,46,32,80,108,101,97,115
       dc.b      101,32,69,110,116,101,114,32,97,32,118,97,108
       dc.b      105,100,32,69,110,100,32,65,100,100,114,101
       dc.b      115,115,58,32,0
@m68kus~1_12:
       dc.b      13,10,69,82,82,79,82,46,32,80,108,101,97,115
       dc.b      101,32,101,110,116,101,114,32,97,110,32,69,110
       dc.b      100,32,65,100,100,114,101,115,115,32,108,97
       dc.b      114,103,101,114,32,116,104,97,110,32,116,104
       dc.b      101,32,83,116,97,114,116,32,65,100,100,114,101
       dc.b      115,115,0
@m68kus~1_13:
       dc.b      13,10,69,110,116,101,114,32,69,110,100,32,65
       dc.b      100,100,114,101,115,115,58,32,0
@m68kus~1_14:
       dc.b      13,10,70,105,108,108,105,110,103,32,65,100,100
       dc.b      114,101,115,115,101,115,32,91,36,37,48,56,88
       dc.b      32,45,32,36,37,48,56,88,93,32,119,105,116,104
       dc.b      32,116,101,115,116,32,100,97,116,97,0
@m68kus~1_15:
       dc.b      13,10,65,100,100,114,101,115,115,32,36,37,48
       dc.b      56,88,32,98,101,105,110,103,32,102,105,108,108
       dc.b      101,100,32,119,105,116,104,32,36,37,48,50,88
       dc.b      0
@m68kus~1_16:
       dc.b      13,10,87,114,105,116,105,110,103,32,116,111
       dc.b      32,109,101,109,111,114,121,32,67,111,109,112
       dc.b      108,101,116,101,46,13,10,69,110,116,101,114
       dc.b      32,39,49,39,32,116,111,32,114,101,97,100,32
       dc.b      98,97,99,107,32,116,104,101,32,109,101,109,111
       dc.b      114,121,46,32,69,110,116,101,114,32,39,48,39
       dc.b      32,116,111,32,101,120,105,116,32,112,114,111
       dc.b      103,114,97,109,46,0
@m68kus~1_17:
       dc.b      13,10,36,37,48,50,88,32,82,101,97,100,32,102
       dc.b      114,111,109,32,97,100,100,114,101,115,115,32
       dc.b      36,37,48,56,88,0
@m68kus~1_18:
       dc.b      13,10,80,114,111,103,114,97,109,32,69,110,100
       dc.b      101,100,0
@m68kus~1_19:
       dc.b      13,10,69,110,116,101,114,32,52,32,119,111,114
       dc.b      100,115,32,40,50,32,98,121,116,101,115,41,32
       dc.b      111,102,32,72,101,120,105,100,101,99,105,109
       dc.b      97,108,32,116,101,115,116,32,100,97,116,97,46
       dc.b      0
@m68kus~1_20:
       dc.b      13,10,69,110,116,101,114,32,70,105,114,115,116
       dc.b      32,119,111,114,100,58,32,0
@m68kus~1_21:
       dc.b      69,110,116,101,114,32,83,101,99,111,110,100
       dc.b      32,119,111,114,100,58,32,0
@m68kus~1_22:
       dc.b      69,110,116,101,114,32,84,104,105,114,100,32
       dc.b      119,111,114,100,58,32,0
@m68kus~1_23:
       dc.b      69,110,116,101,114,32,70,111,117,114,116,104
       dc.b      32,119,111,114,100,58,32,0
@m68kus~1_24:
       dc.b      86,97,108,105,100,32,97,100,100,114,101,115
       dc.b      115,101,115,32,102,111,114,32,116,104,105,115
       dc.b      32,112,114,111,103,114,97,109,32,97,114,101
       dc.b      58,32,36,48,57,48,48,32,48,48,48,48,32,45,32
       dc.b      36,48,57,55,70,32,70,70,70,70,0
@m68kus~1_25:
       dc.b      13,10,70,111,114,32,116,104,105,115,32,116,101
       dc.b      115,116,44,32,116,104,101,32,115,116,97,114
       dc.b      116,32,97,110,100,32,101,110,100,32,97,100,100
       dc.b      114,101,115,115,101,115,32,109,117,115,116,32
       dc.b      97,108,105,103,110,32,116,111,32,97,110,32,101
       dc.b      118,101,110,32,97,100,100,114,101,115,115,0
@m68kus~1_26:
       dc.b      69,82,82,79,82,46,32,80,108,101,97,115,101,32
       dc.b      69,110,116,101,114,32,97,32,118,97,108,105,100
       dc.b      32,69,110,100,32,65,100,100,114,101,115,115
       dc.b      58,32,0
@m68kus~1_27:
       dc.b      69,82,82,79,82,46,32,80,108,101,97,115,101,32
       dc.b      101,110,116,101,114,32,97,110,32,69,110,100
       dc.b      32,65,100,100,114,101,115,115,32,108,97,114
       dc.b      103,101,114,32,116,104,97,110,32,116,104,101
       dc.b      32,83,116,97,114,116,32,65,100,100,114,101,115
       dc.b      115,0
@m68kus~1_28:
       dc.b      13,10,65,100,100,114,101,115,115,101,115,32
       dc.b      36,37,48,56,88,32,45,32,36,37,48,56,88,32,98
       dc.b      101,105,110,103,32,102,105,108,108,101,100,32
       dc.b      119,105,116,104,32,36,37,48,52,88,0
@m68kus~1_29:
       dc.b      13,10,86,97,108,117,101,115,32,36,37,48,50,88
       dc.b      32,36,37,48,50,88,32,102,111,117,110,100,32
       dc.b      97,116,32,97,100,100,114,101,115,115,101,115
       dc.b      32,36,37,48,56,88,32,45,32,36,37,48,56,88,0
@m68kus~1_30:
       dc.b      13,10,69,110,116,101,114,32,52,32,108,111,110
       dc.b      103,32,119,111,114,100,115,32,40,52,32,98,121
       dc.b      116,101,115,41,32,111,102,32,72,101,120,105
       dc.b      100,101,99,105,109,97,108,32,116,101,115,116
       dc.b      32,100,97,116,97,46,0
@m68kus~1_31:
       dc.b      13,10,69,110,116,101,114,32,70,105,114,115,116
       dc.b      32,108,111,110,103,32,119,111,114,100,58,32
       dc.b      0
@m68kus~1_32:
       dc.b      69,110,116,101,114,32,83,101,99,111,110,100
       dc.b      32,108,111,110,103,32,119,111,114,100,58,32
       dc.b      0
@m68kus~1_33:
       dc.b      69,110,116,101,114,32,84,104,105,114,100,32
       dc.b      108,111,110,103,32,119,111,114,100,58,32,0
@m68kus~1_34:
       dc.b      69,110,116,101,114,32,70,111,117,114,116,104
       dc.b      32,108,111,110,103,32,119,111,114,100,58,32
       dc.b      0
@m68kus~1_35:
       dc.b      13,10,65,100,100,114,101,115,115,101,115,32
       dc.b      36,37,48,56,88,32,45,32,36,37,48,56,88,32,98
       dc.b      101,105,110,103,32,102,105,108,108,101,100,32
       dc.b      119,105,116,104,32,36,37,48,56,88,0
@m68kus~1_36:
       dc.b      13,10,86,97,108,117,101,115,32,36,37,48,50,88
       dc.b      32,36,37,48,50,88,32,36,37,48,50,88,32,36,37
       dc.b      48,50,88,32,102,111,117,110,100,32,97,116,32
       dc.b      97,100,100,114,101,115,115,101,115,32,36,37
       dc.b      48,56,88,32,45,32,36,37,48,56,88,0
@m68kus~1_37:
       dc.b      13,10,37,120,0
@m68kus~1_38:
       dc.b      13,10,66,108,111,99,107,32,105,115,32,115,101
       dc.b      116,32,116,111,32,48,0
@m68kus~1_39:
       dc.b      13,10,66,108,111,99,107,32,105,115,32,115,101
       dc.b      116,32,116,111,32,49,0
@m68kus~1_40:
       dc.b      13,10,83,101,110,100,105,110,103,32,83,116,97
       dc.b      114,116,32,67,111,109,109,97,110,100,46,46,46
       dc.b      0
@m68kus~1_41:
       dc.b      13,10,67,111,110,116,114,111,108,32,82,101,103
       dc.b      105,115,116,101,114,32,105,115,32,37,120,0
@m68kus~1_42:
       dc.b      13,10,83,116,97,114,116,32,67,111,109,109,97
       dc.b      110,100,32,82,101,99,101,105,118,101,100,0
@m68kus~1_43:
       dc.b      13,10,84,114,97,110,115,109,105,116,47,114,101
       dc.b      99,101,105,118,101,32,98,101,102,111,114,101
       dc.b      58,32,37,120,0
@m68kus~1_44:
       dc.b      13,10,84,114,97,110,115,109,105,116,47,114,101
       dc.b      99,101,105,118,101,32,97,102,116,101,114,58
       dc.b      32,37,120,0
@m68kus~1_45:
       dc.b      13,10,83,101,110,100,105,110,103,32,97,100,100
       dc.b      114,101,115,115,0
@m68kus~1_46:
       dc.b      13,10,72,105,103,104,32,98,121,116,101,32,97
       dc.b      100,100,114,101,115,115,32,115,101,110,116,0
@m68kus~1_47:
       dc.b      13,10,76,111,119,32,98,121,116,101,32,97,100
       dc.b      100,114,101,115,115,32,115,101,110,116,0
@m68kus~1_48:
       dc.b      13,10,68,97,116,97,32,87,114,105,116,101,110
       dc.b      0
@m68kus~1_49:
       dc.b      13,10,68,65,84,65,32,82,69,65,68,32,73,83,58
       dc.b      32,37,48,50,88,0
@m68kus~1_50:
       dc.b      13,10,66,108,111,99,107,32,83,101,108,58,32
       dc.b      37,88,0
@m68kus~1_51:
       dc.b      13,10,65,100,100,114,101,115,115,32,72,105,103
       dc.b      104,58,32,37,88,0
@m68kus~1_52:
       dc.b      13,10,65,100,100,114,101,115,115,32,76,111,119
       dc.b      58,32,37,88,0
@m68kus~1_53:
       dc.b      13,10,83,101,110,100,105,110,103,32,83,108,97
       dc.b      118,101,32,65,100,100,114,101,115,115,0
@m68kus~1_54:
       dc.b      13,10,83,101,110,100,105,110,103,32,67,111,110
       dc.b      116,114,111,108,32,66,121,116,101,0
@m68kus~1_55:
       dc.b      13,10,73,73,67,32,112,114,111,103,114,97,109
       dc.b      32,119,105,108,108,32,98,101,103,105,110,0
@m68kus~1_56:
       dc.b      13,10,69,110,116,101,114,32,48,32,46,46,46,32
       dc.b      87,114,105,116,101,32,83,105,110,103,108,101
       dc.b      32,66,121,116,101,0
@m68kus~1_57:
       dc.b      13,10,69,110,116,101,114,32,49,32,46,46,46,32
       dc.b      82,101,97,100,32,83,105,110,103,108,101,32,66
       dc.b      121,116,101,0
@m68kus~1_58:
       dc.b      13,10,69,110,116,101,114,32,50,32,46,46,46,32
       dc.b      87,114,105,116,101,32,68,97,116,97,32,66,108
       dc.b      111,99,107,0
@m68kus~1_59:
       dc.b      13,10,69,110,116,101,114,32,51,32,46,46,46,32
       dc.b      82,101,97,100,32,68,97,116,97,32,66,108,111
       dc.b      99,107,0
@m68kus~1_60:
       dc.b      13,10,69,110,116,101,114,32,52,32,46,46,46,32
       dc.b      87,97,118,101,102,111,114,109,32,68,65,67,32
       dc.b      97,110,100,32,76,69,68,32,66,108,105,110,107
       dc.b      121,0
@m68kus~1_61:
       dc.b      13,10,69,110,116,101,114,32,53,32,46,46,46,32
       dc.b      82,101,97,100,32,65,110,97,108,111,103,32,105
       dc.b      110,112,117,116,32,102,114,111,109,32,65,68
       dc.b      67,32,67,104,97,110,110,101,108,13,10,0
@m68kus~1_62:
       dc.b      83,105,110,103,108,101,32,66,121,116,101,32
       dc.b      87,114,105,116,101,32,73,110,105,116,105,97
       dc.b      116,101,100,13,10,69,110,116,101,114,32,68,97
       dc.b      116,97,32,66,121,116,101,58,32,0
@m68kus~1_63:
       dc.b      69,110,116,101,114,32,86,97,108,105,100,32,68
       dc.b      97,116,97,32,66,121,116,101,58,32,0
@m68kus~1_64:
       dc.b      69,110,116,101,114,32,65,100,100,114,101,115
       dc.b      115,32,40,48,48,48,48,48,32,45,32,49,70,70,70
       dc.b      70,41,58,32,0
@m68kus~1_65:
       dc.b      69,110,116,101,114,32,86,97,108,105,100,32,65
       dc.b      100,100,114,101,115,115,58,32,0
@m68kus~1_66:
       dc.b      13,10,87,114,105,116,105,110,103,32,68,97,116
       dc.b      97,32,66,121,116,101,32,46,46,46,0
@m68kus~1_67:
       dc.b      13,10,83,105,110,103,108,101,32,66,121,116,101
       dc.b      32,82,101,97,100,32,73,110,105,116,105,97,116
       dc.b      101,100,13,10,69,110,116,101,114,32,65,100,100
       dc.b      114,101,115,115,32,40,48,48,48,48,48,32,45,32
       dc.b      49,70,70,70,70,41,58,32,0
@m68kus~1_68:
       dc.b      13,10,82,101,97,100,105,110,103,32,68,97,116
       dc.b      97,32,66,121,116,101,32,46,46,46,0
@m68kus~1_69:
       dc.b      13,10,68,97,116,97,32,66,108,111,99,107,32,87
       dc.b      114,105,116,101,32,73,110,105,116,105,97,116
       dc.b      101,100,13,10,69,110,116,101,114,32,83,116,97
       dc.b      114,116,105,110,103,32,65,100,100,114,101,115
       dc.b      115,32,40,48,48,48,48,48,32,45,32,49,70,70,70
       dc.b      70,41,58,32,0
@m68kus~1_70:
       dc.b      69,110,116,101,114,32,68,97,116,97,32,66,108
       dc.b      111,99,107,32,83,105,122,101,32,40,48,48,48
       dc.b      48,48,32,45,32,37,48,53,88,41,58,32,0
@m68kus~1_71:
       dc.b      69,110,116,101,114,32,86,97,108,105,100,32,66
       dc.b      108,111,99,107,32,83,105,122,101,32,40,48,48
       dc.b      48,48,48,32,45,32,37,48,53,88,41,58,32,0
@m68kus~1_72:
       dc.b      69,110,116,101,114,32,83,116,97,114,116,105
       dc.b      110,103,32,68,97,116,97,32,66,121,116,101,58
       dc.b      32,0
@m68kus~1_73:
       dc.b      13,10,68,97,116,97,32,66,108,111,99,107,32,82
       dc.b      101,97,100,32,73,110,105,116,105,97,116,101
       dc.b      100,13,10,69,110,116,101,114,32,83,116,97,114
       dc.b      116,105,110,103,32,65,100,100,114,101,115,115
       dc.b      32,40,48,48,48,48,48,32,45,32,49,70,70,70,70
       dc.b      41,58,32,0
@m68kus~1_74:
       dc.b      69,110,116,101,114,32,86,97,108,105,100,32,65
       dc.b      100,100,114,101,115,115,0
@m68kus~1_75:
       dc.b      13,10,87,97,118,101,102,111,114,109,32,68,65
       dc.b      67,32,97,110,100,32,76,69,68,32,66,108,105,110
       dc.b      107,121,32,73,110,105,116,105,97,116,101,100
       dc.b      13,10,0
@m68kus~1_76:
       dc.b      13,10,82,101,97,100,32,65,110,97,108,111,103
       dc.b      32,105,110,112,117,116,32,102,114,111,109,32
       dc.b      65,68,67,32,67,104,97,110,110,101,108,32,73
       dc.b      110,105,116,105,97,116,101,100,0
@m68kus~1_77:
       dc.b      13,10,73,110,118,97,108,105,100,32,83,101,108
       dc.b      101,99,116,105,111,110,44,32,80,108,101,97,115
       dc.b      101,32,83,101,108,101,99,116,32,97,110,32,79
       dc.b      112,116,105,111,110,32,66,101,116,119,101,101
       dc.b      110,32,48,45,53,46,0
@m68kus~1_78:
       dc.b      13,10,80,114,111,103,114,97,109,32,101,110,100
       dc.b      101,100,0
       section   data
                align

*********************************************************************************************************************************************************
* Section for Initialised Data (in theory should be copied to Ram at startup) but is part of program code as we copy whole program to ram at startup
********************************************************************************************************************************************************

DataStart       equ       *
__ungetbuf:     ds.l      1                    ungetbuffer for stdio functions
__allocp:       ds.l      1                    start of free memory block list
__heap:         ds.l      1                    begin of free memory


@vsscanf_bufx:
       dc.l      @vsscanf_buf
@vsscanf_1:
       dc.b      10,0
__ctype:
       dc.b      0,64,64,64,64,64,64,64,64,64,80,80,80,80,80
       dc.b      64,64,64,64,64,64,64,64,64,64,64,64,64,64,64
       dc.b      64,64,64,208,160,160,160,160,160,160,160,160
       dc.b      160,160,160,160,160,160,160,140,140,140,140
       dc.b      140,140,140,140,140,140,160,160,160,160,160
       dc.b      160,160,138,138,138,138,138,138,130,130,130
       dc.b      130,130,130,130,130,130,130,130,130,130,130
       dc.b      130,130,130,130,130,130,160,160,160,160,160
       dc.b      160,137,137,137,137,137,137,129,129,129,129
       dc.b      129,129,129,129,129,129,129,129,129,129,129
       dc.b      129,129,129,129,129,160,160,160,160,64,0,0,0
       dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
       dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
       dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
       dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
       dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
       dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
@itoa_1:
       dc.b      45,50,49,52,55,52,56,51,54,52,56,0
       section   bss
                align

DataEnd         equ       *                    this label will equate to the address of the last byte of global variable in it
DataLength      equ       DataEnd-DataStart    length of data needed to copy to Ram on bootup

*********************************************************************************************************
* Section for uninitialised Data which is set to zero, i.e. we should set this space to zero at starup
*********************************************************************************************************
BssStart       equ       *

_i:
       ds.b      4
_x:
       ds.b      4
_y:
       ds.b      4
_z:
       ds.b      4
_PortA_Count:
       ds.b      4
_Timer1Count:
       ds.b      1
_Timer2Count:
       ds.b      1
_Timer3Count:
       ds.b      1
_Timer4Count:
       ds.b      1
@vsscanf_buf:
       ds.b      80
       section   heap
               align

BssEnd         equ       *
BssLength      equ       BssEnd-BssStart       length of zeroed data needed to copy to Ram on bootup

*********************************************************************************************************
* Section for Heap
*********************************************************************************************************

heap           equ       *
               align
